<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Reza Mohammadi">
<title>Preface – &lt;span style="color:#0056B3"&gt;Data Science Foundations and Machine Learning with R: From Data to Decisions&lt;/span&gt;
</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./1-Intro-R.html" rel="next">
<link href="./index.html" rel="prev">
<link href="./images/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-5c395c020fa0215c66c8d962dcba7617.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="site_libs/kePrint-0.0.1/kePrint.js"></script><link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./0-preface.html">Preface</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./"><span style="color:#0056B3">Data Science Foundations and Machine Learning with R: From Data to Decisions</span></a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/RezaMoammadi/Book-Data-Science-R" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="./-span-style=-color--0056B3--Data-Science-Foundations-and-Machine-Learning-with-R--From-Data-to-Decisions--span-.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./-span-style=-color--0056B3--Data-Science-Foundations-and-Machine-Learning-with-R--From-Data-to-Decisions--span-.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
</div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0-preface.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1-Intro-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">R Foundations for Data Science</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-Intro-data-science.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Data Science Workflow and the Role of Machine Learning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3-Data-preparation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Preparation in Practice: From Raw Data to Insight</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4-Exploratory-data-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5-Statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Statistical Inference and Hypothesis Testing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6-Setup-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Setup for Modeling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7-Classification-kNN.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Classification Using k-Nearest Neighbors</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8-Model-evaluation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Model Evaluation and Performance Assessment</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9-Naive-Bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Naive Bayes Classifier</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-Regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Regression Analysis: Foundations and Applications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-Tree-based-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Decision Trees and Random Forests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-Neural-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Neural Networks: Foundations of Artificial Intelligence</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-Clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Clustering for Insight: Segmenting Data Without Labels</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-References.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Preface</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p><em>Data science</em> integrates statistical reasoning, machine learning techniques, and computational tools to transform raw data into insight and informed decisions. From predictive models used in finance and healthcare to modern machine learning systems underlying generative AI applications, data-driven methods increasingly shape how complex problems are understood and addressed. As these techniques become central across disciplines and industries, the need for accessible yet rigorous educational resources has never been greater.</p>
<p><em>Data Science Foundations and Machine Learning with R: From Data to Decisions</em> provides a hands-on introduction to this field. Designed for readers with no prior experience in analytics, programming, or formal statistics, the book offers a clear and structured pathway into data science by combining foundational statistical concepts with modern machine learning methods. Emphasis is placed on conceptual understanding, practical implementation, and reproducible workflows using R.</p>
<p>The motivation for this book emerged from a recurring challenge encountered in the classroom. Many students were eager to learn data science and machine learning, yet struggled to find resources that were simultaneously accessible, conceptually rigorous, and practically oriented. Existing materials often emphasized either theoretical abstraction or software mechanics in isolation, leaving beginners uncertain about how methods connect to real analytical problems. This book was written to address that gap. It is intended for newcomers to data science and machine learning, including undergraduate and graduate students, professionals transitioning into data-driven roles, and researchers seeking a practical introduction. Drawing on my experience teaching data science at the university level, the exposition adopts an applied, example-driven approach that integrates statistical foundations with hands-on modeling. The goal is to lower the barrier to entry without sacrificing depth, academic rigor, or relevance to real-world decision-making.</p>
<p>To support a smooth learning trajectory for readers with diverse backgrounds, the book adopts <em>active learning</em> strategies throughout. Concepts are introduced progressively and reinforced through illustrative examples, guided coding tasks, and applied problem-solving activities embedded directly within the main text. Newly introduced ideas are followed by in-text boxes labeled <em>Practice</em>, which invite readers to pause and apply concepts immediately in R as they are encountered. Each chapter also concludes with a case study that applies the chapter’s core ideas to a realistic data-driven scenario, bridging the gap between methodological concepts and real-world application. In addition, every chapter includes a substantial set of end-of-chapter exercises that consolidate learning through more extended implementation. Together, the in-text <em>Practice</em> boxes, case studies, and exercises form a coherent learning framework that steadily develops both conceptual understanding and practical proficiency.</p>
<section id="why-this-book" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="why-this-book">Why This Book?</h2>
<p>This book was written to provide a clear, structured, and application-focused introduction to data science and machine learning using R. While data science continues to evolve rapidly, many existing textbooks either emphasize theoretical development without sufficient practical guidance or focus narrowly on software usage without establishing conceptual foundations. This book aims to bridge that gap by integrating statistical modeling, machine learning techniques, and computational tools within a coherent learning framework.</p>
<p>Unlike many textbooks that assume prior experience with programming or analytics, this book is designed to be accessible to beginners while remaining academically rigorous. Core concepts are introduced gradually and reinforced through real-world examples, guided exercises, and annotated R code. This approach enables readers to develop theoretical understanding alongside practical fluency from the outset, fostering confidence in applying methods to realistic data-driven problems.</p>
<p>R is a widely adopted, open-source language with a rich ecosystem of packages for statistical computing, visualization, and reproducible analysis. This book emphasizes its practical use across academic, industrial, and research settings. For readers who prefer Python, a companion volume titled <em>Data Science Foundations and Machine Learning with Python: From Data to Decisions</em> is available from the same publisher. Further information about both books can be found at <a href="https://datasciencebook.ai" class="uri">https://datasciencebook.ai</a>.</p>
</section><section id="who-should-read-this-book" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="who-should-read-this-book">Who Should Read This Book?</h2>
<p>This book is intended for readers seeking a clear and practical introduction to data science and machine learning, particularly those who are new to the field. It is designed to support a broad audience, ranging from students encountering data analysis for the first time to professionals aiming to incorporate data-driven reasoning into their work.</p>
<p>The book is especially well suited for undergraduate students in programs that emphasize quantitative reasoning, including economics, business administration, business economics (with specializations such as finance or organizational economics), communication science, psychology, and STEM disciplines. It is also appropriate for students in Master’s programs in business analytics, econometrics, and the social sciences, where applied data analysis and modeling play a central role.</p>
<p>Beyond academic audiences, the book is suitable for professionals and researchers who wish to develop practical data science skills without assuming prior training in programming or machine learning. Its structured, example-driven approach makes it appropriate for self-study as well as for use in taught courses at both undergraduate and graduate levels. The material has been developed and refined through use as a reference text in a range of courses on data analytics, machine learning, data wrangling, and business analytics across several BSc and MSc programs, including at the University of Amsterdam.</p>
<p>The book is equally valuable for continuing education and professional development, offering an accessible yet rigorous foundation for readers seeking to strengthen their analytical skills in a rapidly evolving data landscape.</p>
</section><section id="skills-you-will-gain" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="skills-you-will-gain">Skills You Will Gain</h2>
<p>This book guides you through a practical and progressive journey into data science and machine learning using R, structured around the <em>Data Science Workflow</em> (Figure <a href="#fig-ch0_DSW" class="quarto-xref"><span>1</span></a>), which emphasizes how to move from a clearly defined problem to a data-driven solution using statistical analysis and machine learning. Each chapter is designed to support both conceptual understanding and applied skill development, guiding readers from formulating analytical questions and preparing data to building, evaluating, and interpreting models.</p>
<p>By the end of this book, you will be able to:</p>
<ul>
<li><p><em>Identify and explain</em> the key stages of a data science project, from problem formulation and data preparation to modeling and evaluation;</p></li>
<li><p><em>Apply</em> core R programming concepts, including data structures, control flow, and functions, to explore, prepare, and analyze data;</p></li>
<li><p><em>Prepare and transform</em> raw datasets by addressing missing values, outliers, and categorical variables using established best practices;</p></li>
<li><p><em>Explore and interpret</em> data through descriptive statistics and effective visualizations;</p></li>
<li><p><em>Build, tune, and interpret</em> machine learning models for classification, regression, and clustering using methods such as k-nearest neighbors, Naive Bayes, decision trees, neural networks, and K-means clustering;</p></li>
<li><p><em>Evaluate and compare</em> model performance using appropriate metrics tailored to different analytical tasks;</p></li>
<li><p><em>Apply and adapt</em> data science techniques to real-world problems in domains such as marketing, finance, operations, and the social sciences.</p></li>
</ul>
<p>Throughout the book, these skills are reinforced through illustrative examples, annotated R code, and practice-oriented exercises. Each chapter concludes with a case study that synthesizes the main concepts and demonstrates how methods can be applied in realistic settings. By the end of the book, readers are equipped not only with familiarity with data science tools, but also with the ability to apply them critically and effectively in practice.</p>
</section><section id="requirements-and-expectations" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="requirements-and-expectations">Requirements and Expectations</h2>
<p>This book assumes no prior experience with programming, statistics, or data science. It is designed to be accessible to beginners while maintaining academic rigor, with core concepts introduced gradually and reinforced through real-world examples, guided exercises, and annotated R code.</p>
<p>The material has been developed and refined through teaching at the undergraduate level, particularly for students in econometrics, social sciences, and the natural sciences. Many of these students begin with little or no background in programming, machine learning, or formal statistics. This teaching experience has directly informed the structure, pacing, and level of exposition adopted throughout the book.</p>
<p>Readers are expected to have only basic familiarity with using a computer and installing software. No prior programming experience is assumed, as all necessary R concepts are introduced from first principles. While selected statistical ideas are discussed later in the book, particularly in Chapter <a href="5-Statistics.html" class="quarto-xref"><span>5&nbsp; Statistical Inference and Hypothesis Testing</span></a>, no formal background in statistics is required.</p>
<p>Successful engagement with the material does, however, require a willingness to learn actively. Readers are encouraged to work through the in-text <em>Practice</em> boxes, experiment with code, and complete the end-of-chapter exercises, as hands-on problem-solving is central to the learning approach adopted throughout the book.</p>
<p>All tools and software used in this book are freely available, and detailed installation instructions are provided in Chapter <a href="1-Intro-R.html" class="quarto-xref"><span>1&nbsp; R Foundations for Data Science</span></a>. There are no requirements regarding a specific operating system or computer architecture. It is assumed only that readers have access to a computer capable of running R and RStudio, along with an internet connection for downloading packages and datasets.</p>
</section><section id="structure-of-this-book" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="structure-of-this-book">Structure of This Book</h2>
<p>This book is structured around the <em>Data Science Workflow</em> (Figure <a href="#fig-ch0_DSW" class="quarto-xref"><span>1</span></a>), an iterative framework that emphasizes how data science projects progress from problem formulation to data-driven solutions through statistical analysis and machine learning. The journey begins in Chapter <a href="1-Intro-R.html" class="quarto-xref"><span>1&nbsp; R Foundations for Data Science</span></a>, where readers install R, become familiar with its syntax, and work with essential data structures. From there, each chapter builds on the previous one, combining conceptual development with hands-on coding and real-world case studies.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ch0_DSW" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ch0_DSW-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/ch2_DSW.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch0_DSW-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: The Data Science Workflow is an iterative framework for structuring data science and machine learning projects. Inspired by the CRISP-DM model (Cross-Industry Standard Process for Data Mining), it supports systematic problem-solving and continuous refinement.
</figcaption></figure>
</div>
</div>
</div>
<p>The <em>Data Science Workflow</em>, introduced in Chapter <a href="2-Intro-data-science.html" class="quarto-xref"><span>2&nbsp; The Data Science Workflow and the Role of Machine Learning</span></a> and illustrated in Figure <a href="#fig-ch0_DSW" class="quarto-xref"><span>1</span></a>, consists of seven key stages:</p>
<ol type="1">
<li><p><em>Problem Understanding</em>: Defining the analytical objective and broader context (Chapter <a href="2-Intro-data-science.html" class="quarto-xref"><span>2&nbsp; The Data Science Workflow and the Role of Machine Learning</span></a>).</p></li>
<li><p><em>Data Preparation</em>: Cleaning, transforming, and organizing raw data (Chapter <a href="3-Data-preparation.html" class="quarto-xref"><span>3&nbsp; Data Preparation in Practice: From Raw Data to Insight</span></a>).</p></li>
<li><p><em>Exploratory Data Analysis (EDA)</em>: Visualizing and summarizing data to uncover patterns and relationships (Chapter <a href="4-Exploratory-data-analysis.html" class="quarto-xref"><span>4&nbsp; Exploratory Data Analysis</span></a>).</p></li>
<li><p><em>Data Setup for Modeling</em>: Selecting features, partitioning datasets, and scaling variables (Chapter <a href="6-Setup-data.html" class="quarto-xref"><span>6&nbsp; Data Setup for Modeling</span></a>).</p></li>
<li><p><em>Modeling</em>: Building and training predictive models using a range of machine learning algorithms (Chapters <a href="7-Classification-kNN.html" class="quarto-xref"><span>7&nbsp; Classification Using k-Nearest Neighbors</span></a> through <a href="13-Clustering.html" class="quarto-xref"><span>13&nbsp; Clustering for Insight: Segmenting Data Without Labels</span></a>).</p></li>
<li><p><em>Evaluation</em>: Assessing model performance using appropriate metrics and validation strategies (Chapter <a href="8-Model-evaluation.html" class="quarto-xref"><span>8&nbsp; Model Evaluation and Performance Assessment</span></a>).</p></li>
<li><p><em>Deployment</em>: Translating analytical insights into real-world decisions and applications.</p></li>
</ol>
<p>The sequence of chapters mirrors these stages, supporting a gradual progression from foundational concepts to applied modeling. Chapter <a href="5-Statistics.html" class="quarto-xref"><span>5&nbsp; Statistical Inference and Hypothesis Testing</span></a> complements this progression by providing a focused introduction to key statistical ideas, such as confidence intervals and hypothesis testing, which underpin critical reasoning, uncertainty assessment, and model interpretation.</p>
<p>To bridge theory and practice, newly introduced ideas throughout each chapter are accompanied by illustrative examples and in-text boxes labeled <em>Practice</em>, which invite readers to pause and apply concepts immediately in R as they are encountered. Each chapter then concludes with a case study that applies its core ideas to a realistic data-driven problem, demonstrating the <em>Data Science Workflow</em> in action through data preparation, model development, evaluation, and interpretation using real datasets. The datasets used throughout the book, summarized in Table <a href="#tbl-data-table" class="quarto-xref"><span>1</span></a>, are made available through the <strong>liver</strong> package, enabling readers to reproduce analyses, complete exercises, and experiment with methods in a consistent environment. Each chapter also includes a set of exercises designed to consolidate learning, ranging from conceptual questions to hands-on coding tasks and applied problem-solving challenges, together reinforcing key ideas and building confidence in applying R for data science.</p>
</section><section id="how-to-use-this-book" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="how-to-use-this-book">How to Use This Book</h2>
<p>This book is designed for self-study, classroom instruction, and professional learning. Readers may work through the chapters sequentially to follow a structured learning path or consult individual chapters and sections to focus on specific skills or concepts as needed. Regardless of the mode of use, active engagement with the material is essential to achieving the learning objectives of the book.</p>
<p>Readers are encouraged to run the R code examples interactively, experiment with modifications, and explore alternative parameter settings or datasets to reinforce key ideas through hands-on experience. In particular, readers should actively engage with the in-text boxes labeled <em>Practice</em>, which appear immediately after new concepts are introduced and are intended to prompt immediate application and reflection. Each chapter also includes exercises that range from conceptual questions to applied coding tasks, providing further opportunities to deepen understanding and develop analytical fluency. End-of-chapter case studies offer a comprehensive view of the Data Science Workflow in practice, guiding readers through data preparation, modeling, evaluation, and interpretation in realistic analytical contexts.</p>
<p>The book also supports collaborative learning. Working through exercises, <em>Practice</em> boxes, and case studies in pairs or small groups can stimulate discussion, deepen conceptual understanding, and expose readers to diverse analytical perspectives, particularly in classroom and workshop settings.</p>
</section><section id="using-this-book-for-teaching" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="using-this-book-for-teaching">Using This Book for Teaching</h2>
<p>This book is well suited for introductory courses in data science and machine learning, as well as for professional training programs. Its structured progression, emphasis on applied learning, and extensive collection of exercises make it a flexible resource for instructors across a wide range of educational settings.</p>
<p>To support systematic skill development, the book includes more than 500 exercises organized across three levels: conceptual questions that reinforce key ideas, applied tasks based on real-world data, and advanced problems that deepen understanding of machine learning methods. This structure allows instructors to adapt the material to different course levels and learning objectives. Each chapter also features a case study that walks students through the complete <em>Data Science Workflow</em>, from data preparation and modeling to evaluation and interpretation, demonstrating how theoretical concepts translate into practical analysis.</p>
<p>The book has been used as a primary reference in undergraduate and graduate courses on data analytics, machine learning, and data wrangling, including within several BSc and MSc programs at the University of Amsterdam. It is equally suitable for courses in applied statistics, econometrics, business analytics, and quantitative methods across programs in the social sciences, business, and STEM disciplines.</p>
<p>Instructors adopting this book have access to a set of supporting teaching materials, including lecture slides, data science projects for practical sessions, and assessment resources. These materials are designed to facilitate course preparation and to support consistent, engaging instruction. Further information about instructor resources is available at this book’s homepage <a href="https://datasciencebook.ai" class="uri">https://datasciencebook.ai</a>.</p>
</section><section id="datasets-used-in-this-book" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="datasets-used-in-this-book">Datasets Used in This Book</h2>
<p>This book integrates real-world datasets to support its applied, hands-on approach to learning data science and machine learning. These datasets are used throughout the chapters to illustrate key concepts, demonstrate analytical techniques, and underpin comprehensive case studies. Table <a href="#tbl-data-table" class="quarto-xref"><span>1</span></a> summarizes the core datasets featured in the book, most of which are included in the <strong>liver</strong> package. All datasets provided by <strong>liver</strong> can be accessed directly in R, enabling seamless replication of examples, case studies, and exercises. This design allows readers to focus on methodological understanding and practical implementation without additional data preparation overhead.</p>
<div class="cell" data-layout-align="center">
<div id="tbl-data-table" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-data-table-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Overview of datasets used for case studies in different chapters. All datasets are included in the R package liver, except the diamonds dataset, which is available in the ggplot2 package.
</figcaption><div aria-describedby="tbl-data-table-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Chapter</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">churnCredit</td>
<td style="text-align: left; width: 20em;">Customer churn in the credit card industry.</td>
<td style="text-align: left;">Chapters 4, 5, 6, 7, 8</td>
</tr>
<tr class="even">
<td style="text-align: left;">churn</td>
<td style="text-align: left; width: 20em;">Customer churn dataset from a telecommunications company.</td>
<td style="text-align: left;">Chapters 4, 10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bank</td>
<td style="text-align: left; width: 20em;">Direct marketing data from a Portuguese bank.</td>
<td style="text-align: left;">Chapters 6, 7, 12</td>
</tr>
<tr class="even">
<td style="text-align: left;">adult</td>
<td style="text-align: left; width: 20em;">US Census data for income prediction.</td>
<td style="text-align: left;">Chapters 3, 11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">risk</td>
<td style="text-align: left; width: 20em;">Credit risk dataset.</td>
<td style="text-align: left;">Chapter 9</td>
</tr>
<tr class="even">
<td style="text-align: left;">marketing</td>
<td style="text-align: left; width: 20em;">Marketing campaign performance data.</td>
<td style="text-align: left;">Chapter 10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">house</td>
<td style="text-align: left; width: 20em;">House price prediction dataset.</td>
<td style="text-align: left;">Chapter 10</td>
</tr>
<tr class="even">
<td style="text-align: left;">diamonds</td>
<td style="text-align: left; width: 20em;">Diamond pricing dataset.</td>
<td style="text-align: left;">Chapter 3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cereal</td>
<td style="text-align: left; width: 20em;">Nutritional information for 77 breakfast cereals.</td>
<td style="text-align: left;">Chapter 13</td>
</tr>
<tr class="even">
<td style="text-align: left;">churnTel</td>
<td style="text-align: left; width: 20em;">Customer churn dataset from a telecommunications company.</td>
<td style="text-align: left;">Chapter 4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">caravan</td>
<td style="text-align: left; width: 20em;">Customer data for insurance purchase prediction.</td>
<td style="text-align: left;">Chapter 11</td>
</tr>
<tr class="even">
<td style="text-align: left;">insurance</td>
<td style="text-align: left; width: 20em;">Insurance policyholder data.</td>
<td style="text-align: left;">Chapter 10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">housePrice</td>
<td style="text-align: left; width: 20em;">House price data from Ames, Iowa.</td>
<td style="text-align: left;">Chapter 3</td>
</tr>
<tr class="even">
<td style="text-align: left;">drug</td>
<td style="text-align: left; width: 20em;">Drug consumption dataset.</td>
<td style="text-align: left;">Chapter 7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">redWines</td>
<td style="text-align: left; width: 20em;">Red wine quality dataset.</td>
<td style="text-align: left;">Chapters 11, 13</td>
</tr>
<tr class="even">
<td style="text-align: left;">whiteWines</td>
<td style="text-align: left; width: 20em;">White wine quality dataset.</td>
<td style="text-align: left;">Chapter 13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">gapminder</td>
<td style="text-align: left; width: 20em;">Global development indicators from 1950 to 2019.</td>
<td style="text-align: left;">Chapter 4</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>These datasets were selected to expose readers to a broad range of real-world challenges spanning marketing, finance, customer analytics, and predictive modeling. They appear throughout the book in illustrative examples, annotated code, and comprehensive case studies that follow the full <em>Data Science Workflow</em>. All datasets from <strong>liver</strong> can be loaded directly in R using the <code><a href="https://rdrr.io/r/utils/data.html">data()</a></code> function (for example, <code>data(churn)</code>). Documentation and references to the original data sources are available through the package reference page at <a href="https://cran.r-project.org/web/packages/liver/refman/liver.html" class="uri">https://cran.r-project.org/web/packages/liver/refman/liver.html</a>. Beyond the datasets listed in Table <a href="#tbl-data-table" class="quarto-xref"><span>1</span></a>, the <strong>liver</strong> package includes additional datasets that appear in end-of-chapter exercises, providing further opportunities to practice data exploration, modeling, and evaluation across a variety of applied contexts.</p>
</section><section id="online-resources" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="online-resources">Online Resources</h2>
<p>Additional resources supporting this book are available online. The book’s companion website, <a href="https://datasciencebook.ai" class="uri">https://datasciencebook.ai</a>, provides information about the book, updates, and access to supplementary materials for instructors and readers.</p>
<p>The book is also supported by the R package <strong>liver</strong>, which contains the datasets used throughout the chapters, exercises, and case studies. The package is freely available from CRAN at <a href="https://cran.r-project.org/web/packages/liver/index.html" class="uri">https://cran.r-project.org/web/packages/liver/index.html</a>, along with documentation describing each dataset and its original source. These online resources are intended to facilitate reproducibility, support hands-on learning, and streamline the use of the book in both self-study and teaching contexts.</p>
</section><section id="acknowledgments" class="level2 unnumbered unlisted"><h2 class="unnumbered unlisted anchored" data-anchor-id="acknowledgments">Acknowledgments</h2>
<p>Writing this book has been both a challenging and rewarding journey, and I am deeply grateful to all those who supported and inspired me along the way. First and foremost, I thank my wife, Pariya, for her constant support, patience, and encouragement throughout this process. I am also sincerely grateful to my family, especially my mother and older brother, for their unwavering belief in me.</p>
<p>This book would not have taken shape without the contributions of my collaborators. I am particularly thankful to Dr.&nbsp;Kevin Burke for his valuable input in shaping the structure of the book. I also wish to acknowledge Dr.&nbsp;Jeroen van Raak and Dr.&nbsp;Julien Rossi, who enthusiastically collaborated with me on the development of the Python edition of this book. I am especially indebted to Eva Hiripi at :contentReference<span data-index="0">oaicite:0</span> for her steadfast support and for encouraging me to pursue this project from the outset.</p>
<p>My colleagues in the Business Analytics Section at the :contentReference<span data-index="1">oaicite:1</span> provided thoughtful feedback and generous support during the writing process. I am particularly grateful to Prof.&nbsp;Ilker Birbil, Prof.&nbsp;Dick den Hertog, Prof.&nbsp;Marc Salomon, Dr.&nbsp;Marit Schoonhoven, Dr.&nbsp;Stevan Rudinac, Dr.&nbsp;Rob Goedhart, Prof.&nbsp;Jeroen de Mast, Prof.&nbsp;Joaquim Gromicho, Prof.&nbsp;Peter Kroos, Dr.&nbsp;Chintan Amrit, Dr.&nbsp;Inez Zwetsloot, Dr.&nbsp;Alex Kuiper, Dr.&nbsp;Bart Lameijer, Dr.&nbsp;Jannis Kurtz, Dr.&nbsp;Guido van Capelleveen, and Dr.&nbsp;Yeqiu Zheng. I also thank my PhD students, Lucas Vogels and Elias Dubbeldam, for their research insights and continued collaboration.</p>
<p>I would further like to acknowledge my former colleagues and co-authors, Dr.&nbsp;Khodakaram Salimifard, Sara Saadatmand, and Dr.&nbsp;Florian Böing-Messing, for their continued academic partnership. Finally, I am grateful to the students of the courses <em>Data Wrangling</em> and <em>Data Analytics: Machine Learning</em> at the University of Amsterdam. Their feedback has helped refine the material in meaningful ways, and I am particularly thankful to John Gatev for his thoughtful and constructive comments.</p>
<p>To everyone who contributed to this book, your encouragement, feedback, and collaboration have been invaluable.</p>
<div class="cell" data-layout-align="center">
<div style="text-align:center; font-style: italic;">
<p>All models are wrong, but some are useful.</p>
</div>
<div style="text-align:right;">
<p>— George Box</p>
</div>
</div>
<p>Reza Mohammadi<br>
Amsterdam, Netherlands<br>
January 2026</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/book-data-science-r\.netlify\.app");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Welcome">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Welcome</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./1-Intro-R.html" class="pagination-link" aria-label="R Foundations for Data Science">
        <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">R Foundations for Data Science</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Data Science Foundations and Machine Learning with R was written by <a href="https://www.uva.nl/profile/a.mohammadi"><span style="color:#0056B3">Reza Mohammadi</span></a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions"><ul><li><a href="https://github.com/RezaMoammadi/Book-Data-Science-R/edit/main/0-preface.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/RezaMoammadi/Book-Data-Science-R/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>


</body></html>