<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Reza Mohammadi">
<title>1&nbsp; Getting Started with R – Data Science Foundations and Machine Learning with R: From Data to Decisions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./2-Intro-data-science.html" rel="next">
<link href="./0-preface.html" rel="prev">
<link href="./images/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-09ad67a8abf10a26bd949a058469d371.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="site_libs/kePrint-0.0.1/kePrint.js"></script><link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./1-Intro-R.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting Started with R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Science Foundations and Machine Learning with R: From Data to Decisions</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/RezaMoammadi/Book-Data-Science" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Data-Science-Foundations-and-Machine-Learning-with-R--From-Data-to-Decisions.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Data-Science-Foundations-and-Machine-Learning-with-R--From-Data-to-Decisions.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
</div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1-Intro-R.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting Started with R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-Intro-data-science.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Foundations of Data Science and Machine Learning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3-Data-preparation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Preparation in Practice: From Raw Data to Insight</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4-Exploratory-data-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5-Statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Statistical Inference and Hypothesis Testing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6-Setup-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Setting Up Data for Modeling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7-Classification-kNN.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Classification Using k-Nearest Neighbors</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8-Model-evaluation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Evaluating Machine Learning Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9-Naive-Bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Naive Bayes Classifier</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-Regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Regression Analysis: Foundations and Applications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-Tree-based-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Decision Trees and Random Forests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-Neural-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Neural Networks: Foundations of Artificial Intelligence</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-Clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Clustering for Insight: Segmenting Data Without Labels</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-References.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#why-choose-r-for-data-science" id="toc-why-choose-r-for-data-science" class="nav-link active" data-scroll-target="#why-choose-r-for-data-science">Why Choose R for Data Science?</a></li>
  <li><a href="#what-this-chapter-covers" id="toc-what-this-chapter-covers" class="nav-link" data-scroll-target="#what-this-chapter-covers">What This Chapter Covers</a></li>
  <li><a href="#how-to-learn-r" id="toc-how-to-learn-r" class="nav-link" data-scroll-target="#how-to-learn-r"><span class="header-section-number">1.1</span> How to Learn R</a></li>
  <li>
<a href="#how-to-install-r" id="toc-how-to-install-r" class="nav-link" data-scroll-target="#how-to-install-r"><span class="header-section-number">1.2</span> How to Install R</a>
  <ul class="collapse">
<li><a href="#keeping-r-up-to-date" id="toc-keeping-r-up-to-date" class="nav-link" data-scroll-target="#keeping-r-up-to-date">Keeping R Up to Date</a></li>
  </ul>
</li>
  <li>
<a href="#how-to-install-rstudio" id="toc-how-to-install-rstudio" class="nav-link" data-scroll-target="#how-to-install-rstudio"><span class="header-section-number">1.3</span> How to Install RStudio</a>
  <ul class="collapse">
<li><a href="#installing-rstudio" id="toc-installing-rstudio" class="nav-link" data-scroll-target="#installing-rstudio">Installing RStudio</a></li>
  <li><a href="#exploring-the-rstudio-interface" id="toc-exploring-the-rstudio-interface" class="nav-link" data-scroll-target="#exploring-the-rstudio-interface">Exploring the RStudio Interface</a></li>
  <li><a href="#customizing-rstudio" id="toc-customizing-rstudio" class="nav-link" data-scroll-target="#customizing-rstudio">Customizing RStudio</a></li>
  </ul>
</li>
  <li><a href="#getting-help-and-learning-more" id="toc-getting-help-and-learning-more" class="nav-link" data-scroll-target="#getting-help-and-learning-more"><span class="header-section-number">1.4</span> Getting Help and Learning More</a></li>
  <li><a href="#data-science-and-machine-learning-with-r" id="toc-data-science-and-machine-learning-with-r" class="nav-link" data-scroll-target="#data-science-and-machine-learning-with-r"><span class="header-section-number">1.5</span> Data Science and Machine Learning with R</a></li>
  <li><a href="#sec-install-packages" id="toc-sec-install-packages" class="nav-link" data-scroll-target="#sec-install-packages"><span class="header-section-number">1.6</span> How to Install R Packages</a></li>
  <li><a href="#how-to-load-r-packages" id="toc-how-to-load-r-packages" class="nav-link" data-scroll-target="#how-to-load-r-packages"><span class="header-section-number">1.7</span> How to Load R Packages</a></li>
  <li>
<a href="#running-your-first-r-code" id="toc-running-your-first-r-code" class="nav-link" data-scroll-target="#running-your-first-r-code"><span class="header-section-number">1.8</span> Running Your First R Code</a>
  <ul class="collapse">
<li><a href="#using-comments-to-explain-your-code" id="toc-using-comments-to-explain-your-code" class="nav-link" data-scroll-target="#using-comments-to-explain-your-code">Using Comments to Explain Your Code</a></li>
  <li><a href="#how-functions-work-in-r" id="toc-how-functions-work-in-r" class="nav-link" data-scroll-target="#how-functions-work-in-r">How Functions Work in R</a></li>
  </ul>
</li>
  <li>
<a href="#sec-ch1-import-data" id="toc-sec-ch1-import-data" class="nav-link" data-scroll-target="#sec-ch1-import-data"><span class="header-section-number">1.9</span> Import Data into R</a>
  <ul class="collapse">
<li><a href="#importing-data-with-rstudios-graphical-interface" id="toc-importing-data-with-rstudios-graphical-interface" class="nav-link" data-scroll-target="#importing-data-with-rstudios-graphical-interface">Importing Data with RStudio’s Graphical Interface</a></li>
  <li><a href="#importing-csv-files-with-read.csv" id="toc-importing-csv-files-with-read.csv" class="nav-link" data-scroll-target="#importing-csv-files-with-read.csv">Importing CSV Files with <code>read.csv()</code></a></li>
  <li><a href="#setting-the-working-directory" id="toc-setting-the-working-directory" class="nav-link" data-scroll-target="#setting-the-working-directory">Setting the Working Directory</a></li>
  <li><a href="#importing-data-using-dialogs-and-urls" id="toc-importing-data-using-dialogs-and-urls" class="nav-link" data-scroll-target="#importing-data-using-dialogs-and-urls">Importing Data Using Dialogs and URLs</a></li>
  <li><a href="#importing-excel-files-with-read_excel" id="toc-importing-excel-files-with-read_excel" class="nav-link" data-scroll-target="#importing-excel-files-with-read_excel">Importing Excel Files with <code>read_excel()</code></a></li>
  <li><a href="#loading-data-from-r-packages" id="toc-loading-data-from-r-packages" class="nav-link" data-scroll-target="#loading-data-from-r-packages">Loading Data from R Packages</a></li>
  </ul>
</li>
  <li><a href="#why-data-types-matter-in-r" id="toc-why-data-types-matter-in-r" class="nav-link" data-scroll-target="#why-data-types-matter-in-r"><span class="header-section-number">1.10</span> Why Data Types Matter in R</a></li>
  <li>
<a href="#data-structures-in-r" id="toc-data-structures-in-r" class="nav-link" data-scroll-target="#data-structures-in-r"><span class="header-section-number">1.11</span> Data Structures in R</a>
  <ul class="collapse">
<li><a href="#vectors-in-r" id="toc-vectors-in-r" class="nav-link" data-scroll-target="#vectors-in-r">Vectors in R</a></li>
  <li><a href="#matrices-in-r" id="toc-matrices-in-r" class="nav-link" data-scroll-target="#matrices-in-r">Matrices in R</a></li>
  <li><a href="#data-frames-in-r" id="toc-data-frames-in-r" class="nav-link" data-scroll-target="#data-frames-in-r">Data Frames in R</a></li>
  <li><a href="#lists-in-r" id="toc-lists-in-r" class="nav-link" data-scroll-target="#lists-in-r">Lists in R</a></li>
  </ul>
</li>
  <li>
<a href="#accessing-columns-and-rows-in-r" id="toc-accessing-columns-and-rows-in-r" class="nav-link" data-scroll-target="#accessing-columns-and-rows-in-r"><span class="header-section-number">1.12</span> Accessing Columns and Rows in R</a>
  <ul class="collapse">
<li><a href="#using-the-operator" id="toc-using-the-operator" class="nav-link" data-scroll-target="#using-the-operator">Using the <code>$</code> Operator</a></li>
  <li><a href="#using-the-operator-1" id="toc-using-the-operator-1" class="nav-link" data-scroll-target="#using-the-operator-1">Using the <code>[]</code> Operator</a></li>
  </ul>
</li>
  <li><a href="#how-to-merge-data-in-r" id="toc-how-to-merge-data-in-r" class="nav-link" data-scroll-target="#how-to-merge-data-in-r"><span class="header-section-number">1.13</span> How to Merge Data in R</a></li>
  <li>
<a href="#sec-ch1-visualization" id="toc-sec-ch1-visualization" class="nav-link" data-scroll-target="#sec-ch1-visualization"><span class="header-section-number">1.14</span> Getting Started with Data Visualization in R</a>
  <ul class="collapse">
<li><a href="#geom-functions-in-ggplot2" id="toc-geom-functions-in-ggplot2" class="nav-link" data-scroll-target="#geom-functions-in-ggplot2">Geom Functions in ggplot2</a></li>
  <li><a href="#aesthetics-in-ggplot2" id="toc-aesthetics-in-ggplot2" class="nav-link" data-scroll-target="#aesthetics-in-ggplot2">Aesthetics in ggplot2</a></li>
  </ul>
</li>
  <li><a href="#sec-formula-in-R" id="toc-sec-formula-in-R" class="nav-link" data-scroll-target="#sec-formula-in-R"><span class="header-section-number">1.15</span> Formula in R</a></li>
  <li><a href="#sec-ch1-simulate-data" id="toc-sec-ch1-simulate-data" class="nav-link" data-scroll-target="#sec-ch1-simulate-data"><span class="header-section-number">1.16</span> Simulating Data in R</a></li>
  <li>
<a href="#reporting-with-r-markdown" id="toc-reporting-with-r-markdown" class="nav-link" data-scroll-target="#reporting-with-r-markdown"><span class="header-section-number">1.17</span> Reporting with R Markdown</a>
  <ul class="collapse">
<li><a href="#r-markdown-basics" id="toc-r-markdown-basics" class="nav-link" data-scroll-target="#r-markdown-basics">R Markdown Basics</a></li>
  <li><a href="#the-header" id="toc-the-header" class="nav-link" data-scroll-target="#the-header">The Header</a></li>
  <li><a href="#code-chunks-and-inline-code" id="toc-code-chunks-and-inline-code" class="nav-link" data-scroll-target="#code-chunks-and-inline-code">Code Chunks and Inline Code</a></li>
  <li><a href="#styling-text" id="toc-styling-text" class="nav-link" data-scroll-target="#styling-text">Styling Text</a></li>
  <li><a href="#mastering-r-markdown" id="toc-mastering-r-markdown" class="nav-link" data-scroll-target="#mastering-r-markdown">Mastering R Markdown</a></li>
  </ul>
</li>
  <li><a href="#reporting-with-quarto" id="toc-reporting-with-quarto" class="nav-link" data-scroll-target="#reporting-with-quarto"><span class="header-section-number">1.18</span> Reporting with Quarto</a></li>
  <li><a href="#chapter-summary-and-takeaways" id="toc-chapter-summary-and-takeaways" class="nav-link" data-scroll-target="#chapter-summary-and-takeaways"><span class="header-section-number">1.19</span> Chapter Summary and Takeaways</a></li>
  <li><a href="#sec-intro-R-exercises" id="toc-sec-intro-R-exercises" class="nav-link" data-scroll-target="#sec-intro-R-exercises"><span class="header-section-number">1.20</span> Exercises</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/RezaMoammadi/Book-Data-Science/edit/main/1-Intro-R.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/RezaMoammadi/Book-Data-Science/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-ch1-intro-R" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting Started with R</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>What do Spotify recommendations, fraud detection systems, and ChatGPT have in common? They all rely on data, and on programming languages to process, analyze, and act on it. In the world of data science, the two most widely used languages are R and Python. Both are widely adopted across academia, research, and industry, and each has distinct strengths.</p>
<p>This book is based on R, a language specifically designed for statistical computing and data analysis. By the end of this chapter, you will have installed R, explored its basic syntax, and loaded and visualized a real-world dataset with just a few lines of code. No prior experience with programming is required, only curiosity and a willingness to learn. If you are already familiar with R and comfortable using RStudio, you may wish to skim this chapter and proceed directly to Chapter <a href="2-Intro-data-science.html" class="quarto-xref"><span>2</span></a>, where we introduce the data science workflow and its core concepts.</p>
<p>R or Python? Students often ask whether they should choose R or Python. While Python is a general-purpose language widely used for application development and deep learning, R was designed specifically for data analysis. It excels in statistical modeling, data visualization, and reproducible reporting. In practice, many teams use both, selecting the most appropriate tool for each task. Learners with a background in Python often find it easier to pick up R, as the two languages share many foundational concepts. For those who prefer Python, a companion volume, <em>Data Science Foundations and Machine Learning with Python: From Data to Decisions</em>, is available from the same publisher.</p>
<p>To give a concrete example, imagine working with customer data to understand why users cancel their mobile service. With R, you can summarize call behavior, compare usage patterns across churned and retained customers, and create intuitive plots to reveal trends. For instance, you might find that customers who churn tend to spend more time on daytime calls, an insight that could inform proactive retention strategies. This kind of analysis is explored in greater detail in Chapter <a href="4-Exploratory-data-analysis.html" class="quarto-xref"><span>4</span></a>.</p>
<p>Throughout this book, we follow a structured framework known as the <em>Data Science Workflow</em>, which includes seven key steps: Problem Understanding, Data Preparation, Exploratory Data Analysis, Data Setup to Model, Modeling, Evaluation, and Deployment. Each chapter builds on this framework. The foundational skills introduced here, including navigating R, importing and manipulating data, and generating basic visualizations, will support your work at every stage. A detailed overview is provided in Chapter <a href="2-Intro-data-science.html" class="quarto-xref"><span>2</span></a> (see <a href="2-Intro-data-science.html#fig-ch2_DSW" class="quarto-xref">Figure&nbsp;<span>2.3</span></a>).</p>
<section id="why-choose-r-for-data-science" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="why-choose-r-for-data-science">Why Choose R for Data Science?</h3>
<p>R is widely used in statistics, data analysis, and visualization, owing to its rich ecosystem of packages tailored to data science tasks. Unlike general-purpose programming languages, it was designed specifically for statistical computing, making it especially well suited for both foundational and advanced analytical workflows. With concise, readable syntax, analysts and researchers can perform everything from descriptive statistics to machine learning.</p>
<p>Key strengths of R include statistical modeling, high-quality graphics, reproducible reporting, and domain-specific applications in fields such as epidemiology, psychology, and economics. As a free, open-source language with cross-platform support and an active global community, R offers thousands of user-contributed packages via the Comprehensive R Archive Network (CRAN) that extend its capabilities.</p>
<p>To support and streamline your coding experience, RStudio, an integrated development environment (IDE), provides an intuitive interface that includes a console, script editor, and tools for managing plots, packages, and version control.</p>
</section><section id="what-this-chapter-covers" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="what-this-chapter-covers">What This Chapter Covers</h3>
<p>This chapter is designed for beginners with no prior experience in coding. If you are new to R, programming, or data science, you are in the right place. Drawing on years of teaching experience, this chapter addresses the most common questions students raise during lectures and labs, particularly when working with real-world data for the first time.</p>
<p>You are not expected to master every detail on your first read. Feel free to skip ahead or revisit sections as needed. This chapter is meant to serve as a practical, flexible reference: one you can return to throughout the book for reminders about syntax, data structures, visualization basics, or how to import and explore data in R.</p>
<p>In this chapter, you will:</p>
<ul>
<li><p>Set up your environment by installing R and RStudio;</p></li>
<li><p>Learn to navigate the RStudio interface and run your first commands;</p></li>
<li><p>Understand core data structures such as vectors, data frames, and lists;</p></li>
<li><p>Import datasets, install packages, and explore your data;</p></li>
<li><p>Create basic visualizations using the <strong>ggplot2</strong> package;</p></li>
<li><p>Document your work with reproducible reports using R Markdown and Quarto.</p></li>
</ul>
<p><em>By the end of this chapter, you will be able to load, explore, and visualize a real-world dataset with just a few lines of code, laying the foundation for your data science journey.</em></p>
</section><section id="how-to-learn-r" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="how-to-learn-r">
<span class="header-section-number">1.1</span> How to Learn R</h2>
<p>Learning R opens the door to a wide range of powerful tools in data analysis, statistics, and machine learning. If you are new to programming, the learning curve may appear steep at first. However, consistent practice, thoughtful exploration, and the right resources make the journey both manageable and rewarding.</p>
<p>There is no single best way to learn R. Some learners benefit from structured textbooks, others from interactive exercises or video tutorials. A widely recommended resource is <a href="https://r4ds.hadley.nz"><em>R for Data Science</em></a> <span class="citation" data-cites="wickham2017r">(<a href="14-References.html#ref-wickham2017r" role="doc-biblioref">2017</a>)</span>, which emphasizes practical data workflows and readable code. For those entirely new to programming, <a href="https://rstudio-education.github.io/hopr"><em>Hands-On Programming with R</em></a> <span class="citation" data-cites="grolemund2014">(<a href="14-References.html#ref-grolemund2014" role="doc-biblioref">2014</a>)</span> offers an accessible entry point. Learners interested in machine learning might explore <em>Machine Learning with R</em> <span class="citation" data-cites="lantz2019machine">(<a href="14-References.html#ref-lantz2019machine" role="doc-biblioref">2019</a>)</span>. Interactive platforms like <a href="https://www.datacamp.com">DataCamp</a> and <a href="https://www.coursera.org">Coursera</a> offer hands-on practice, while YouTube channels such as <em>Data School</em> provide visual explanations of core concepts. As you grow more confident, communities like Stack Overflow and the RStudio Community become invaluable for answering specific coding questions and learning from others.</p>
<p>Regardless of the path you take, the most effective strategy is regular, deliberate practice. Start with small tasks, explore how example code works, and gradually build toward your own projects. Mistakes are not only inevitable, they are an essential part of the learning process.</p>
<p>This mindset is well captured by James Clear’s concept of <em>The Power of Tiny Gains</em>, popularized in <em>Atomic Habits</em>: a 1% improvement each day may seem small, but it compounds into remarkable progress over time. <a href="#fig-ch1-tiny-gains" class="quarto-xref">Figure&nbsp;<span>1.1</span></a>, created entirely in R, illustrates this idea, and previews what you will soon be able to do: write code that explores ideas, generates plots, and communicates insights clearly and reproducibly.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ch1-tiny-gains" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ch1-tiny-gains-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1-Intro-R_files/figure-html/fig-ch1-tiny-gains-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch1-tiny-gains-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.1: The Power of Tiny Gains: A 1% improvement every day leads to exponential growth over time. This plot was created entirely in R.
</figcaption></figure>
</div>
</div>
</div>
<p>Learning R is not about mastering everything at once. It is about making steady progress, one concept at a time. With each small success (loading a dataset, creating a plot, writing a function), you are building skills that will support you throughout your data science journey. Be patient, stay curious, and trust the process. Growth in programming, as in data, is often exponential, just like the green line in <a href="#fig-ch1-tiny-gains" class="quarto-xref">Figure&nbsp;<span>1.1</span></a>.</p>
<p>Now that you know what to expect and how to approach learning R, let us begin by setting up your environment. In the next section, you will install R and RStudio as your primary tools for writing and running R code.</p>
</section><section id="how-to-install-r" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="how-to-install-r">
<span class="header-section-number">1.2</span> How to Install R</h2>
<p>Before you begin working with R, you need to install it on your computer. R is freely available from the Comprehensive R Archive Network (CRAN). Follow these steps:</p>
<ol type="1">
<li><p>Visit the <a href="https://cran.r-project.org">CRAN website</a>.</p></li>
<li><p>Choose your operating system, Windows, macOS, or Linux.</p></li>
<li><p>Download the appropriate installer and follow the on-screen instructions to complete the installation.</p></li>
</ol>
<p>Once installed, you can use the R console directly. However, most users prefer to work within an integrated development environment (IDE). In the next section, we introduce RStudio, a popular and user-friendly interface for writing and running R code.</p>
<section id="keeping-r-up-to-date" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="keeping-r-up-to-date">Keeping R Up to Date</h3>
<p>R is updated regularly, with a major release each year, typically in April, and several smaller updates in between. Staying current ensures access to new features, performance improvements, and security patches. It also helps maintain compatibility with the latest packages. That said, frequent updates are not essential for beginners. If your current setup works for your learning and analysis tasks, you can continue using it without interruption.</p>
<p>When upgrading to a new major version, you may need to reinstall your R packages. To simplify this process, you can save a list of your installed packages using:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Alternatively, use a package manager like <strong>pak</strong> or <strong>renv</strong> to snapshot and restore your setup. Although occasional updates may seem inconvenient, they help keep your tools stable and your workflow reliable in the long run.</p>
</section></section><section id="how-to-install-rstudio" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="how-to-install-rstudio">
<span class="header-section-number">1.3</span> How to Install RStudio</h2>
<p>After installing the R software, it is helpful to use a dedicated set of tools that make working with R more productive and enjoyable. RStudio is a free and open-source integrated development environment (IDE) designed specifically for R. It provides a clean interface, a powerful script editor, and integrated tools for plotting, debugging, and package management, all of which streamline the R programming experience.</p>
<blockquote class="blockquote">
<p><strong>Note</strong>: RStudio is an editor and does not include R itself. You must install R before using RStudio.</p>
</blockquote>
<section id="installing-rstudio" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="installing-rstudio">Installing RStudio</h3>
<p>To install RStudio:</p>
<ol type="1">
<li><p>Visit the <a href="https://posit.co/download/rstudio-desktop">RStudio website</a>.</p></li>
<li><p>Download the latest version of RStudio Desktop (the free, open-source edition) for your operating system, Windows, macOS, or Linux.</p></li>
<li><p>Run the installer and follow the on-screen instructions.</p></li>
<li><p>Launch RStudio—you are now ready to begin coding in R.</p></li>
</ol>
<p>RStudio is updated several times a year and typically notifies you when a new version is available. Keeping it up to date is recommended so that you can benefit from the latest features, stability improvements, and bug fixes.</p>
</section><section id="exploring-the-rstudio-interface" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exploring-the-rstudio-interface">Exploring the RStudio Interface</h3>
<p>When you open RStudio for the first time, you will see a layout similar to <a href="#fig-RStudio-window-1" class="quarto-xref">Figure&nbsp;<span>1.2</span></a>. This integrated interface is divided into four panels, each serving a specific purpose in your R workflow.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-RStudio-window-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-RStudio-window-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/ch1_RStudio-window-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-RStudio-window-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.2: The RStudio window when you first launch the program.
</figcaption></figure>
</div>
</div>
</div>
<p>If only three panels are visible initially, select <em>File &gt; New File &gt; R Script</em> to open the script editor. This panel enables you to write, edit, and save R code for future use and reproducibility.</p>
<p>The four main panels are:</p>
<ul>
<li><p><em>Script Editor (top left)</em>: Write and edit R scripts.</p></li>
<li><p><em>Console (bottom left)</em>: Enter R commands and view their output.</p></li>
<li><p><em>Environment and History (top right)</em>: Inspect current variables and view previously executed commands.</p></li>
<li><p><em>Files, Plots, Packages, and Help (bottom right)</em>: Navigate files, visualize data, manage packages, and access documentation.</p></li>
</ul>
<p>For now, focus on entering simple R commands into the console and pressing <em>Enter</em> to view the results. In later chapters, you will gradually make use of each panel as your projects grow in complexity.</p>
</section><section id="customizing-rstudio" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="customizing-rstudio">Customizing RStudio</h3>
<p>As you begin working more extensively with R, it is worth taking a few moments to tailor RStudio to your preferences. A well-organized and comfortable environment can make your coding sessions more productive and enjoyable.</p>
<p>To customize RStudio, go to:</p>
<blockquote class="blockquote">
<p><strong>Tools &gt; Global Options</strong></p>
</blockquote>
<p>From there, you can explore several settings to personalize your workspace. For example:</p>
<ul>
<li><p>Under <em>Appearance</em>, you can change the editor theme (e.g., selecting <em>Tomorrow Night 80</em> for dark mode) to reduce eye strain. You can also adjust font size, pane layout, and syntax highlighting to suit your style.</p></li>
<li><p>If installed, the <em>Copilot</em> tab allows you to enable GitHub Copilot for AI-assisted code suggestions.</p></li>
</ul>
<p>These small adjustments not only improve comfort and focus but also support sustained engagement as you deepen your skills in R.</p>
<p>Now that your environment is set up, you might be wondering where to turn when you get stuck or want to deepen your understanding. The next section offers tips for getting help and continuing to learn.</p>
</section></section><section id="getting-help-and-learning-more" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="getting-help-and-learning-more">
<span class="header-section-number">1.4</span> Getting Help and Learning More</h2>
<p>Learning R can be challenging at first; but you do not have to do it alone. Today’s learners have access to powerful support tools that can dramatically accelerate the process. Among them, AI assistants like ChatGPT offer a flexible, conversational way to learn faster, get unstuck, and deepen your understanding.</p>
<p>With an AI assistant, you can ask questions in natural language and receive immediate, context-aware guidance. Whether you are puzzled by an error message, unsure how a function works, or looking for help writing a block of code, tools like ChatGPT provide on-demand support. They can walk you through code step-by-step, generate examples based on your description, and explain unfamiliar concepts in clear, accessible language. This makes them especially helpful during independent study or when you need quick clarification without interrupting your workflow.</p>
<p>That said, AI tools are not the only resource. R includes robust built-in documentation, type <code>?function_name</code> or use <code><a href="https://rdrr.io/r/utils/help.html">help()</a></code> and <code><a href="https://rdrr.io/r/utils/example.html">example()</a></code> in the console to access function-specific help and sample usage. These features offer precise, official information and remain a fundamental resource.</p>
<p>Online communities also play an important role. Sites such as <a href="https://stackoverflow.com/questions/tagged/r">Stack Overflow</a> and <a href="https://community.rstudio.com">RStudio Community</a> provide answers to countless common problems. Searching these forums often reveals solutions or helpful patterns. If you post a new question, remember to include a clear explanation and a reproducible example.</p>
<p>In the end, the best way to learn R is to combine resources: practice regularly, use AI tools to speed up your learning, consult the documentation for accuracy, and turn to the community for collective wisdom. With each small step, you will become more confident in your ability to explore data, write code, and solve problems with R.</p>
</section><section id="data-science-and-machine-learning-with-r" class="level2" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="data-science-and-machine-learning-with-r">
<span class="header-section-number">1.5</span> Data Science and Machine Learning with R</h2>
<p>Imagine building a model that predicts hospital readmissions, optimizing a marketing campaign, or uncovering fraud in financial transactions. All of this is possible using code you understand and control. This book teaches you how, using R, one of the most powerful tools in the data scientist’s toolkit.</p>
<p>This book introduces the core ideas and practical tools of data science and machine learning, using R as the primary programming environment. You will learn how to prepare data, build models, evaluate results, and communicate insights. These skills are applied to real-world datasets throughout the book.</p>
<p>R provides a solid foundation for statistical analysis and data visualization. Its real strength, however, lies in its extensive ecosystem of packages (modular libraries that extend the capabilities of R for modern analytics). To support these capabilities, R relies on a vast network of user-contributed packages developed by a global community of researchers and practitioners. These packages are freely available via the Comprehensive R Archive Network (CRAN).</p>
<p>While base R includes essential functions for data wrangling and basic modeling, many advanced techniques, particularly in machine learning, are implemented through contributed packages. A typical R package contains functions for specific tasks, sample datasets for experimentation, and documentation or vignettes to guide users.</p>
<p>Each machine learning method introduced in this book is paired with an appropriate package implementation. For example, in Chapter <a href="11-Tree-based-models.html" class="quarto-xref"><span>11</span></a>, we use <strong>rpart</strong> and <strong>randomForest</strong> for decision trees and ensemble learning. In Chapter <a href="12-Neural-networks.html" class="quarto-xref"><span>12</span></a>, we use <strong>neuralnet</strong> to introduce the basics of neural network modeling. These tools are introduced with clear examples and hands-on exercises to help you apply them confidently.</p>
<p>To support the examples and exercises in this book, we developed the <a href="https://CRAN.R-project.org/package=liver"><strong>liver</strong></a> package. It includes real-world datasets and utility functions specifically designed for teaching data science with R. Several of these datasets are listed in <a href="0-preface.html#tbl-data-table" class="quarto-xref">Table&nbsp;<span>1</span></a>. For example, in Chapter <a href="7-Classification-kNN.html" class="quarto-xref"><span>7</span></a>, we use one of these datasets to demonstrate the k-nearest neighbors (kNN) classification algorithm using functions from <strong>liver</strong>.</p>
<p>For those interested in going further, CRAN hosts thousands of additional packages covering areas such as text mining, forecasting, deep learning, and geospatial analysis. You can browse the full repository at <a href="https://CRAN.R-project.org" class="uri">https://CRAN.R-project.org</a>.</p>
<p>As you progress through this book, you will become not only proficient in the R language but also fluent in using its rich ecosystem of packages to tackle real data science challenges. With curiosity and consistent practice, these tools will become part of your everyday workflow.</p>
</section><section id="sec-install-packages" class="level2" data-number="1.6"><h2 data-number="1.6" class="anchored" data-anchor-id="sec-install-packages">
<span class="header-section-number">1.6</span> How to Install R Packages</h2>
<p>Packages are central to working in R, they extend its core capabilities and allow you to perform specialized tasks such as data wrangling, modeling, and visualization. Many examples in this book use contributed packages. You will be prompted to install them as needed, starting with the <strong>liver</strong> package described below.</p>
<p>There are two common ways to install R packages: through RStudio’s graphical interface or by using the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function in the R console.</p>
<p>To install a package using RStudio’s interface:</p>
<ol type="1">
<li><p>Click on the <em>Tools</em> menu and select <em>Install Packages…</em>.</p></li>
<li><p>In the dialog box, enter the name of the package (or multiple packages separated by commas).</p></li>
<li><p>Make sure the <em>Install dependencies</em> option is checked.</p></li>
<li><p>Click <em>Install</em> to begin.</p></li>
</ol>
<p>See the screenshot in Figure <a href="#fig-install-packages" class="quarto-xref"><span>1.3</span></a> for a visual reference.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-install-packages" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-install-packages-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/ch1_RStudio-window-install.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-install-packages-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.3: Installing packages via the graphical interface in RStudio.
</figcaption></figure>
</div>
</div>
</div>
<p>The second, and more flexible, method is to install packages directly using the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function in the console. For example, to install the <strong>liver</strong> package, which provides datasets and functions used throughout this book, type:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"liver"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Press <em>Enter</em> to execute the command. R will download the package from <a href="https://cran.r-project.org">CRAN</a> and install it on your system. The first time you install a package, you may be prompted to select a CRAN mirror. Choose one geographically close to your location for faster downloads.</p>
<p>If installation fails, check your internet connection or confirm that a firewall is not blocking access to CRAN. The <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function can also be used to install packages from a local file or a custom repository. To learn more, run:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">?</span><span class="va">install.packages</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Packages only need to be installed once. However, each time you open a new R session, you must load the package using the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function. This will be explained in the next section.</p>
</section><section id="how-to-load-r-packages" class="level2" data-number="1.7"><h2 data-number="1.7" class="anchored" data-anchor-id="how-to-load-r-packages">
<span class="header-section-number">1.7</span> How to Load R Packages</h2>
<p>Once a package is installed, you need to load it into your R session before you can use its functions and datasets. R does not automatically load all installed packages; instead, it loads only those you explicitly request. This helps keep your environment organized and efficient, avoiding unnecessary memory use and potential conflicts between packages.</p>
<p>To load a package, use the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function. For example, to load the <strong>liver</strong> package, enter:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://book-data-science-r.netlify.app">liver</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Press <em>Enter</em> to execute the command. If you see an error such as <code>"there is no package called 'liver'"</code>, the package has not yet been installed. In that case, return to <a href="#sec-install-packages" class="quarto-xref">Section&nbsp;<span>1.6</span></a> to review how to install packages using either RStudio or the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function.</p>
<p>While installing a package makes it available on your system, loading it with <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> is necessary each time you start a new R session. Only then will its functions and datasets be accessible in your workspace.</p>
<p>As you progress through this book, you will use several other packages, such as <strong>ggplot2</strong> for visualization and <strong>randomForest</strong> for modeling, each introduced when needed. Occasionally, two or more packages may contain functions with the same name. When this occurs, R uses the version from the package most recently loaded.</p>
<p>To avoid ambiguity in such cases, use the <code>::</code> operator to explicitly call a function from a specific package. For example, to use the <code><a href="https://rdrr.io/pkg/liver/man/partition.html">partition()</a></code> function from the <strong>liver</strong> package (used for splitting data into training and test sets), type:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">liver</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/liver/man/partition.html">partition</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This approach helps ensure that your code remains clear and reproducible, especially in larger projects where many packages are used together.</p>
</section><section id="running-your-first-r-code" class="level2" data-number="1.8"><h2 data-number="1.8" class="anchored" data-anchor-id="running-your-first-r-code">
<span class="header-section-number">1.8</span> Running Your First R Code</h2>
<p>One of the most empowering aspects of R is that it responds instantly to your commands. This immediate feedback makes it ideal for experimentation, learning, and developing intuition through trial and error. Suppose you just made three online purchases and want to calculate the total cost. In R, you can do that instantly:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fl">49.23</span> <span class="sc">+</span> <span class="fl">11.78</span> <span class="sc">+</span> <span class="fl">38.99</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Press <em>Enter</em>, and R returns the result. You can also try subtraction, multiplication, or division. Feel free to change the numbers and experiment with different operations.</p>
<p>You can store the result in a variable for later use:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">total</span> <span class="op">&lt;-</span> <span class="fl">49.23</span> <span class="op">+</span> <span class="fl">11.78</span> <span class="op">+</span> <span class="fl">38.99</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>&lt;-</code> symbol is R’s assignment operator: it stores the value on the right under the name on the left. You can think of it as labeling a box and placing something inside. While the <code>=</code> operator (<code>total = ...</code>) also works, <code>&lt;-</code> is the preferred convention, especially inside function calls.</p>
<p>Although <code>&lt;-</code> is the traditional assignment operator, it is interchangeable with <code>=</code> in most situations. To keep the examples in this book beginner-friendly and consistent with other programming languages like Python, we will generally use <code>=</code> when assigning values. Both styles are valid, and you may choose the one that suits you best.</p>
<p>Once a value is stored, you can reuse it in future calculations. For example, to add 21% tax:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>total <span class="sc">*</span> <span class="fl">1.21</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="dv">121</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>R retrieves the value of <code>total</code> and performs the calculation. Note that R is case-sensitive. This means <code>Total</code> and <code>total</code> refer to different objects. Always pay attention to capitalization when naming or calling variables and functions.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: What is the standard sales tax or VAT rate in your country? Replace <code>1.21</code> with your local multiplier (e.g., <code>1.07</code> for 7% tax) and rerun the code. You could also assign the rate to a variable like <code>tax_rate &lt;- 1.21</code> to make your code more readable.</p>
</blockquote>
<p>As you begin writing more lines of code, it becomes helpful to add comments that explain what each part is doing.</p>
<section id="using-comments-to-explain-your-code" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="using-comments-to-explain-your-code">Using Comments to Explain Your Code</h3>
<p>Comments help explain what your code is doing, making it easier to understand and maintain. In R, comments begin with a <code>#</code> symbol. Everything after <code>#</code> on the same line is ignored when the code runs.</p>
<p>Comments do not affect code execution but are essential for documenting your reasoning, whether for teammates, future readers, or even yourself after a few weeks. This is especially helpful in data science projects, where analyses often involve multiple steps and assumptions.</p>
<p>Here is an example with multiple steps and explanatory comments:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define prices of three items</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>prices <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">49.23</span>, <span class="fl">11.78</span>, <span class="fl">38.99</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total cost</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="fu">sum</span>(prices)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply a 21% tax</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>total <span class="sc">*</span> <span class="fl">1.21</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="dv">121</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Clear comments turn code into a readable narrative, which helps others (and your future self) understand the logic behind your analysis.</p>
</section><section id="how-functions-work-in-r" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="how-functions-work-in-r">How Functions Work in R</h3>
<p>Functions are at the heart of R. They allow you to perform powerful operations with just a line or two of code, whether you are calculating a summary statistic, transforming a dataset, or creating a plot. Learning how to use functions effectively is one of the most important skills in your R journey.</p>
<p>A function typically takes one or more <em>arguments</em> (inputs), performs a task, and returns an <em>output</em>. For example, the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function (short for “combine”) creates a vector:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Define prices of three items</span></span>
<span><span class="va">prices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">49.23</span>, <span class="fl">11.78</span>, <span class="fl">38.99</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once you have a vector, you can use another function to compute a summary, such as the average:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(prices)  <span class="co"># Calculate the mean of prices</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="fl">33.33333</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The general structure of a function call in R looks like this:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">function_name</span><span class="op">(</span><span class="va">argument1</span>, <span class="va">argument2</span>, <span class="va">...</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Some functions require specific arguments, while others have optional parameters with default values. To learn more about a function and its arguments, type <code>?</code> followed by the function name:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">?</span><span class="va">mean</span>  <span class="co"># or help(mean)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This opens the help documentation, including a description, argument list, and example usage.</p>
<p>You will encounter many functions throughout this book, from basic operations like <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> and <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> to specialized tools for machine learning. Functions make your code concise, modular, and expressive.</p>
<p>Throughout this book, you will use many built-in functions, often combining them to perform complex tasks in just a few lines of code. For now, focus on understanding how functions are structured and practicing with common examples.</p>
</section></section><section id="sec-ch1-import-data" class="level2" data-number="1.9"><h2 data-number="1.9" class="anchored" data-anchor-id="sec-ch1-import-data">
<span class="header-section-number">1.9</span> Import Data into R</h2>
<p>Before you can explore, model, or visualize anything in R, you first need to bring data into your session. Importing data is the starting point for any analysis, and R supports a wide range of formats, including text files, Excel spreadsheets, and datasets hosted on the web. Depending on your needs and the file type, you can choose from several efficient methods to load your data.</p>
<section id="importing-data-with-rstudios-graphical-interface" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="importing-data-with-rstudios-graphical-interface">Importing Data with RStudio’s Graphical Interface</h3>
<p>For beginners, the easiest way to import data into R is through RStudio’s graphical interface. In the top-right <em>Environment</em> panel, click the <em>Import Dataset</em> button (see Figure <a href="#fig-load-data" class="quarto-xref"><span>1.4</span></a>). A dialog box will appear, prompting you to choose the type of file you want to load.</p>
<p>You can choose from several file types depending on your data source and analysis goals. For example, text files such as CSV or tab-delimited files can be loaded using the <em>From Text (base)</em> option. Microsoft Excel files can be imported via the <em>From Excel</em> option, provided the <strong>readxl</strong> package is installed. Additional formats may appear depending on your installed packages and RStudio setup.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-load-data" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-load-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/ch1_RStudio-window-data-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-load-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.4: Using the ‘Import Dataset’ tab in RStudio to load data.
</figcaption></figure>
</div>
</div>
</div>
<p>After selecting a file, RStudio displays a preview window (Figure <a href="#fig-load-data-2" class="quarto-xref"><span>1.5</span></a>) where you can review and adjust options like column names, separators, data types, and encoding. Once you confirm the settings, click <em>Import</em>. The dataset will be loaded into your environment and appear in the <em>Environment</em> panel, ready for analysis.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-load-data-2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-load-data-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/ch1_RStudio-window-data.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-load-data-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.5: Adjusting import settings in RStudio before loading the dataset.
</figcaption></figure>
</div>
</div>
</div>
</section><section id="importing-csv-files-with-read.csv" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="importing-csv-files-with-read.csv">Importing CSV Files with <code>read.csv()</code>
</h3>
<p>If you prefer writing code, or want to make your analysis reproducible, you can load CSV files using the <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code> function from base R. This is one of the most common ways to import data, especially for scripting or automating workflows.</p>
<p>To load a CSV file from your computer, use:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"path/to/your/file.csv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Replace <code>"path/to/your/file.csv"</code> with the actual file path. If your file does not include column names in the first row, set <code>header = FALSE</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"your_file.csv"</span>, header <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If your dataset contains special characters, common in international datasets or files saved from Excel, add the <code>fileEncoding</code> argument to avoid import issues:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"your_file.csv"</span>, fileEncoding <span class="op">=</span> <span class="st">"UTF-8-BOM"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This ensures that R correctly interprets non-English characters and symbols.</p>
</section><section id="setting-the-working-directory" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="setting-the-working-directory">Setting the Working Directory</h3>
<p>The <em>working directory</em> is the folder on your computer where R looks for files to read, and where it saves any output by default. When you import data, R will search this folder unless you give a full path to the file.</p>
<p>To find out your current working directory, use:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To change it in code:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"~/Documents"</span><span class="op">)</span>  <span class="co"># Adjust this path to match your system</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also change it through the RStudio menu:</p>
<blockquote class="blockquote">
<p><em>Session &gt; Set Working Directory &gt; Choose Directory…</em></p>
</blockquote>
<p>Setting the working directory properly can save time and reduce errors when loading or saving files. If you’re getting “file not found” errors, checking the working directory is a good first step.</p>
</section><section id="importing-data-using-dialogs-and-urls" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="importing-data-using-dialogs-and-urls">Importing Data Using Dialogs and URLs</h3>
<p>Sometimes you may not want to hard-code a file path or prefer to work with data hosted online. R offers flexible methods that make your workflow more portable and user-friendly.</p>
<p>To allow users to choose a file interactively, use the <code><a href="https://rdrr.io/r/base/file.choose.html">file.choose()</a></code> function with <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>. This opens a file selection dialog box:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.choose.html">file.choose</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is particularly handy when sharing code across different systems, where file locations may vary.</p>
<p>You can also import data directly from a URL by passing it to <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://example.com/data.csv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This method is ideal for accessing public datasets from governments, research institutions, or data repositories. It ensures your code stays reproducible and eliminates the need for manual downloads.</p>
<p>Whether you are automating tasks or collaborating across platforms, these import options make it easier to load data without setup friction.</p>
</section><section id="importing-excel-files-with-read_excel" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="importing-excel-files-with-read_excel">Importing Excel Files with <code>read_excel()</code>
</h3>
<p>Excel is one of the most common formats for storing data in business, education, and research. To import <code>.xlsx</code> or <code>.xls</code> files into R, use the <code><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel()</a></code> function from the <strong>readxl</strong> package, a lightweight, user-friendly tool in the tidyverse ecosystem.</p>
<p>If you have not installed the package yet, follow the guidance in <a href="#sec-install-packages" class="quarto-xref">Section&nbsp;<span>1.6</span></a>, or use this command:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"readxl"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then load the package and import your Excel file:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org">readxl</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel</a></span><span class="op">(</span><span class="st">"path/to/your/file.xlsx"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Replace <code>"path/to/your/file.xlsx"</code> with the actual file path.</p>
<p>Unlike <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>, <code><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel()</a></code> supports multiple sheets in a single workbook. To import a specific sheet, use the <code>sheet</code> argument:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel</a></span><span class="op">(</span><span class="st">"path/to/your/file.xlsx"</span>, sheet <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is especially useful when Excel files contain separate tables across different tabs. If your file includes merged cells, multi-row headers, or other formatting quirks, it is best to clean it in Excel first, or handle it programmatically in R after import.</p>
</section><section id="loading-data-from-r-packages" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="loading-data-from-r-packages">Loading Data from R Packages</h3>
<p>In addition to reading external files, R also provides access to datasets that come bundled with packages. These datasets are immediately usable and are ideal for practice, examples, and case studies.</p>
<p>In this book, we use the <strong>liver</strong> package, developed specifically for teaching purposes, which includes several real-world datasets. One of the main datasets is <code>churn</code>, which contains information on customer behavior in a telecommunications context. If you have not installed the package yet, follow the guidance in <a href="#sec-install-packages" class="quarto-xref">Section&nbsp;<span>1.6</span></a>.</p>
<p>To load the dataset into your environment, run:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://book-data-science-r.netlify.app">liver</a></span><span class="op">)</span> <span class="co"># To load the liver package</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">churn</span><span class="op">)</span>    <span class="co"># To load the churn dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once loaded, <code>churn</code> will appear in your Environment tab and can be used like any other data frame. This dataset, along with others listed in Table <a href="0-preface.html#tbl-data-table" class="quarto-xref"><span>1</span></a>, will appear throughout the book in examples related to modeling, evaluation, and visualization. In Chapter <a href="4-Exploratory-data-analysis.html" class="quarto-xref"><span>4</span></a>, you will perform exploratory data analysis (EDA) on <code>churn</code> to uncover patterns and prepare it for modeling.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: After loading <code>churn</code>, use <code>head(churn)</code> or <code>str(churn)</code> to explore its structure and variables.</p>
</blockquote>
<p>Using datasets embedded in packages like <strong>liver</strong> ensures that your analysis is reproducible and portable across systems, since the data can be loaded consistently in any R session.</p>
</section></section><section id="why-data-types-matter-in-r" class="level2" data-number="1.10"><h2 data-number="1.10" class="anchored" data-anchor-id="why-data-types-matter-in-r">
<span class="header-section-number">1.10</span> Why Data Types Matter in R</h2>
<p>In R, every object (whether a number, string, or logical value) has a data type. These types play a critical role in how R stores, processes, and interprets data. Recognizing the correct type is essential for ensuring that computations behave as expected and that analyses yield valid results.</p>
<p>Here are the most common data types in R:</p>
<p><em>Numeric</em>: Real numbers such as <code>3.14</code> or <code>-5.67</code>. Used for continuous values such as weight, temperature, or income; they support arithmetic operations.</p>
<p><em>Integer</em>: Whole numbers like <code>1</code>, <code>42</code>, or <code>-6</code>. Integers are useful for counting, indexing rows, or representing categories with numeric codes.</p>
<p><em>Character</em>: Text values such as <code>"Data Science"</code> or <code>"Azizam"</code>. Character data is used for names, descriptions, labels, and other textual content.</p>
<p><em>Logical</em>: Boolean values, <code>TRUE</code> or <code>FALSE</code>. Logical values are used for comparisons, filtering, and conditional statements.</p>
<p><em>Factor</em>: Categorical variables with a defined set of levels (e.g., <code>"Yes"</code> and <code>"No"</code>). Factors are essential in modeling and grouped visualizations, where the variable should behave as a category rather than text.</p>
<p>To check the type of a variable, use the <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> function:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(prices)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="st">"numeric"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This tells you the broad data type R assigns to the variable. To inspect how R stores it internally, use <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code>. To explore complex structures like data frames, use <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(prices)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="st">"double"</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(prices)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    num [<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="fl">49.2</span> <span class="fl">11.8</span> <span class="dv">39</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Why does this matter? Treating a numeric variable as character, or vice versa, can cause functions to return incorrect results or warnings. For example:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>income <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"42000"</span>, <span class="st">"28000"</span>, <span class="st">"60000"</span>)  <span class="co"># Stored as character</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(income)   <span class="co"># This will return NA with a warning</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="cn">NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this case, R interprets income as text, not numbers. You can fix the issue by converting the character vector to numeric:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>income <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(income)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(income)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="fl">43333.33</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Later chapters, such as Exploratory Data Analysis (Chapter <a href="4-Exploratory-data-analysis.html" class="quarto-xref"><span>4</span></a>) and Statistical Inference (Chapter <a href="5-Statistics.html" class="quarto-xref"><span>5</span></a>), will show you how to apply tools specific to each variable type, whether for summarizing values, visualizing distributions, or building models.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Load the <code>churn</code> dataset from the <strong>liver</strong> package (see <a href="#sec-ch1-import-data" class="quarto-xref">Section&nbsp;<span>1.9</span></a>). Then use <code>str(churn)</code> to inspect its structure. Which variables are numeric, character, or factors? Try using <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> and <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> on a few columns to explore how R understands them.</p>
</blockquote>
</section><section id="data-structures-in-r" class="level2" data-number="1.11"><h2 data-number="1.11" class="anchored" data-anchor-id="data-structures-in-r">
<span class="header-section-number">1.11</span> Data Structures in R</h2>
<p>In R, data structures define how information is organized, stored, and manipulated. Choosing the right structure is essential for effective analysis, whether you are summarizing data, creating visualizations, or building predictive models. For example, storing customer names and purchases calls for a different structure than tracking the results of a simulation.</p>
<p>Data structures are different from data types: data types describe <em>what</em> a value is (e.g., a number or a string), while data structures describe <em>how</em> values are arranged and grouped (e.g., in a table, matrix, or list).</p>
<p>The most commonly used structures in R include vectors, matrices, data frames, lists, and arrays. Each is suited to particular tasks and workflows. Figure <a href="#fig-R-objects" class="quarto-xref"><span>1.6</span></a> provides a visual overview of these core structures.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-R-objects" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-R-objects-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/ch1_R-objects.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:55.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-R-objects-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.6: A visual guide to five common data structures in R, organized by dimensionality (1D, 2D, nD) and type uniformity (single vs.&nbsp;multiple types).
</figcaption></figure>
</div>
</div>
</div>
<p>In this section, we explore how to create and work with the four most commonly used data structures in R: vectors, matrices, data frames, and lists, each illustrated with practical examples showing when and how to use them.</p>
<section id="vectors-in-r" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="vectors-in-r">Vectors in R</h3>
<p>A <em>vector</em> is the most fundamental data structure in R. It represents a one-dimensional sequence of elements, all of the <em>same type</em>; for example, all numbers, all text strings, or all logical values (<code>TRUE</code> or <code>FALSE</code>). Vectors form the foundation of many other R structures, including matrices and data frames.</p>
<p>You can create a vector using the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function (short for <em>combine</em>), which concatenates individual elements into a single sequence:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a numeric vector representing prices of three items</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>prices <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">49.23</span>, <span class="fl">11.78</span>, <span class="fl">38.99</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the vector</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>prices</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="fl">49.23</span> <span class="fl">11.78</span> <span class="fl">38.99</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if `prices` is a vector</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="fu">is.vector</span>(prices)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the number of elements in the vector</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(prices)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this example, <code>prices</code> is a numeric vector containing three elements. The <code><a href="https://rdrr.io/r/base/vector.html">is.vector()</a></code> function checks whether the object is a vector, and <code>length(prices)</code> tells you how many elements it contains.</p>
<blockquote class="blockquote">
<p><em>Note:</em> All elements in a vector must be of the same type. If you mix types (for example, numbers and characters), R will coerce them to a common type, usually character, which can sometimes lead to unintended consequences.</p>
</blockquote>
</section><section id="matrices-in-r" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="matrices-in-r">Matrices in R</h3>
<p>A <em>matrix</em> is a two-dimensional data structure in R where all elements must be of the same type (numeric, character, or logical). Matrices are commonly used in mathematics, statistics, and machine learning for operations involving rows and columns.</p>
<p>To create a matrix, use the <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> function. Here is a simple example:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a matrix with 2 rows and 3 columns, filled row by row</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>my_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the matrix</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>my_matrix</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>        [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">2</span>    <span class="dv">3</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">2</span>,]    <span class="dv">4</span>    <span class="dv">5</span>    <span class="dv">6</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if it's a matrix</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="fu">is.matrix</span>(my_matrix)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Check its dimensions (rows, columns)</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(my_matrix)</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This creates a <span class="math inline">\(2 \times 3\)</span> matrix filled <em>row by row</em> using the numbers 1 through 6. If you leave out the <code>byrow = TRUE</code> argument (or set it to <code>FALSE</code>), R fills the matrix <em>column by column</em>, which is the default behavior.</p>
<p>Matrices are useful in a wide range of numerical operations, such as matrix multiplication, linear transformations, or storing pairwise distances. They form the backbone of many machine learning algorithms and statistical models. Most core computations in neural networks, support vector machines, and linear regression rely on matrix operations behind the scenes.</p>
<p>You can access specific elements using row and column indices:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the element in row 1, column 2</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>my_matrix[<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This retrieves the value in the first row and second column. You can also label rows and columns using <code><a href="https://rdrr.io/r/base/colnames.html">rownames()</a></code> and <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> for easier interpretation in analysis.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Create a <span class="math inline">\(3 \times 3\)</span> matrix with your own numbers. Can you retrieve the value in the third row and first column?</p>
</blockquote>
</section><section id="data-frames-in-r" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="data-frames-in-r">Data Frames in R</h3>
<p>A <em>data frame</em> is one of the most important and commonly used data structures in R. It organizes data in a two-dimensional layout, rows and columns, where each column can store a different data type: numeric, character, logical, or factor. This flexibility makes data frames ideal for tabular data, similar to what you might encounter in a spreadsheet or database.</p>
<p>In this book, nearly all datasets, whether built-in or imported from external files, are stored and analyzed as data frames. Understanding how to work with data frames is essential for following the examples and building your own analyses.</p>
<p>You can create a data frame by combining vectors of equal length using the <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> function:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create vectors for student data</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>student_id <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>, <span class="dv">104</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>name       <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Emma"</span>, <span class="st">"Bob"</span>, <span class="st">"Alice"</span>, <span class="st">"Noah"</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>age        <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">19</span>, <span class="dv">22</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>grade      <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"A"</span>, <span class="st">"C"</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine vectors into a data frame</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>students_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(student_id, name, age, grade)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the data frame</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>students_df</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>     student_id  name age grade</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>        <span class="dv">101</span>  Emma  <span class="dv">20</span>     A</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>        <span class="dv">102</span>   Bob  <span class="dv">21</span>     B</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span>        <span class="dv">103</span> Alice  <span class="dv">19</span>     A</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span>        <span class="dv">104</span>  Noah  <span class="dv">22</span>     C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This creates a data frame named <code>students_df</code> with four columns. Each row represents a student, and each column holds a different type of information. To confirm the object’s structure, use:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(students_df)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="st">"data.frame"</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(students_df)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To explore the contents of a data frame, try:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(students_df)     <span class="co"># View the first few rows</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>     student_id  name age grade</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>        <span class="dv">101</span>  Emma  <span class="dv">20</span>     A</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>        <span class="dv">102</span>   Bob  <span class="dv">21</span>     B</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span>        <span class="dv">103</span> Alice  <span class="dv">19</span>     A</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span>        <span class="dv">104</span>  Noah  <span class="dv">22</span>     C</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(students_df)      <span class="co"># View column types and structure</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>   <span class="st">'data.frame'</span><span class="sc">:</span>    <span class="dv">4</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="er">$</span> student_id<span class="sc">:</span> num  <span class="dv">101</span> <span class="dv">102</span> <span class="dv">103</span> <span class="dv">104</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> name      <span class="sc">:</span> chr  <span class="st">"Emma"</span> <span class="st">"Bob"</span> <span class="st">"Alice"</span> <span class="st">"Noah"</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> age       <span class="sc">:</span> num  <span class="dv">20</span> <span class="dv">21</span> <span class="dv">19</span> <span class="dv">22</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> grade     <span class="sc">:</span> chr  <span class="st">"A"</span> <span class="st">"B"</span> <span class="st">"A"</span> <span class="st">"C"</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(students_df)  <span class="co"># Summary statistics by column</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>      student_id        name                age           grade          </span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    Min.   <span class="sc">:</span><span class="fl">101.0</span>   Length<span class="sc">:</span><span class="dv">4</span>           Min.   <span class="sc">:</span><span class="fl">19.00</span>   Length<span class="sc">:</span><span class="dv">4</span>          </span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">101.8</span>   Class <span class="sc">:</span>character   <span class="dv">1</span>st Qu.<span class="sc">:</span><span class="fl">19.75</span>   Class <span class="sc">:</span>character  </span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    Median <span class="sc">:</span><span class="fl">102.5</span>   Mode  <span class="sc">:</span>character   Median <span class="sc">:</span><span class="fl">20.50</span>   Mode  <span class="sc">:</span>character  </span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>    Mean   <span class="sc">:</span><span class="fl">102.5</span>                      Mean   <span class="sc">:</span><span class="fl">20.50</span>                     </span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">103.2</span>                      <span class="dv">3</span>rd Qu.<span class="sc">:</span><span class="fl">21.25</span>                     </span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>    Max.   <span class="sc">:</span><span class="fl">104.0</span>                      Max.   <span class="sc">:</span><span class="fl">22.00</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="accessing-and-modifying-columns" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="accessing-and-modifying-columns">Accessing and Modifying Columns</h4>
<p>You can extract a specific column from a data frame using the <code>$</code> operator or square brackets:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the 'age' column</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>students_df<span class="sc">$</span>age</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="dv">20</span> <span class="dv">21</span> <span class="dv">19</span> <span class="dv">22</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also use <code>students_df[["age"]]</code> or <code>students_df[, "age"]</code>, try each one to see how they work.</p>
<p>To modify a column, for example, to add 1 to each age:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">students_df</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="va">students_df</span><span class="op">$</span><span class="va">age</span> <span class="op">+</span> <span class="fl">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also add a new column:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Add a logical column based on age</span></span>
<span><span class="va">students_df</span><span class="op">$</span><span class="va">is_adult</span> <span class="op">&lt;-</span> <span class="va">students_df</span><span class="op">$</span><span class="va">age</span> <span class="op">&gt;=</span> <span class="fl">21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This creates a new column called <code>is_adult</code> with <code>TRUE</code> or <code>FALSE</code> values.</p>
<p>Data frames are especially useful in real-world analysis, where datasets often mix numerical and categorical variables. For example, in this book, we frequently use the <em>churn</em> dataset from the <strong>liver</strong> package:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(liver)   <span class="co"># Load the liver package</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(churn)      <span class="co"># Load the churn dataset</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore the structure of the data</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(churn)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>   <span class="st">'data.frame'</span><span class="sc">:</span>    <span class="dv">5000</span> obs. of  <span class="dv">20</span> variables<span class="sc">:</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    <span class="er">$</span> state         <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">51</span> levels <span class="st">"AK"</span>,<span class="st">"AL"</span>,<span class="st">"AR"</span>,..<span class="sc">:</span> <span class="dv">17</span> <span class="dv">36</span> <span class="dv">32</span> <span class="dv">36</span> <span class="dv">37</span> <span class="dv">2</span> <span class="dv">20</span> <span class="dv">25</span> <span class="dv">19</span> <span class="dv">50</span> ...</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> area.code     <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">3</span> levels <span class="st">"area_code_408"</span>,..<span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> ...</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> account.length<span class="sc">:</span> int  <span class="dv">128</span> <span class="dv">107</span> <span class="dv">137</span> <span class="dv">84</span> <span class="dv">75</span> <span class="dv">118</span> <span class="dv">121</span> <span class="dv">147</span> <span class="dv">117</span> <span class="dv">141</span> ...</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> voice.plan    <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">"yes"</span>,<span class="st">"no"</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> ...</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> voice.messages<span class="sc">:</span> int  <span class="dv">25</span> <span class="dv">26</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">24</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">37</span> ...</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> intl.plan     <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">"yes"</span>,<span class="st">"no"</span><span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> ...</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> intl.mins     <span class="sc">:</span> num  <span class="dv">10</span> <span class="fl">13.7</span> <span class="fl">12.2</span> <span class="fl">6.6</span> <span class="fl">10.1</span> <span class="fl">6.3</span> <span class="fl">7.5</span> <span class="fl">7.1</span> <span class="fl">8.7</span> <span class="fl">11.2</span> ...</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> intl.calls    <span class="sc">:</span> int  <span class="dv">3</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">7</span> <span class="dv">3</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">6</span> <span class="dv">4</span> <span class="dv">5</span> ...</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> intl.charge   <span class="sc">:</span> num  <span class="fl">2.7</span> <span class="fl">3.7</span> <span class="fl">3.29</span> <span class="fl">1.78</span> <span class="fl">2.73</span> <span class="fl">1.7</span> <span class="fl">2.03</span> <span class="fl">1.92</span> <span class="fl">2.35</span> <span class="fl">3.02</span> ...</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> day.mins      <span class="sc">:</span> num  <span class="dv">265</span> <span class="dv">162</span> <span class="dv">243</span> <span class="dv">299</span> <span class="dv">167</span> ...</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> day.calls     <span class="sc">:</span> int  <span class="dv">110</span> <span class="dv">123</span> <span class="dv">114</span> <span class="dv">71</span> <span class="dv">113</span> <span class="dv">98</span> <span class="dv">88</span> <span class="dv">79</span> <span class="dv">97</span> <span class="dv">84</span> ...</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> day.charge    <span class="sc">:</span> num  <span class="fl">45.1</span> <span class="fl">27.5</span> <span class="fl">41.4</span> <span class="fl">50.9</span> <span class="fl">28.3</span> ...</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> eve.mins      <span class="sc">:</span> num  <span class="fl">197.4</span> <span class="fl">195.5</span> <span class="fl">121.2</span> <span class="fl">61.9</span> <span class="fl">148.3</span> ...</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> eve.calls     <span class="sc">:</span> int  <span class="dv">99</span> <span class="dv">103</span> <span class="dv">110</span> <span class="dv">88</span> <span class="dv">122</span> <span class="dv">101</span> <span class="dv">108</span> <span class="dv">94</span> <span class="dv">80</span> <span class="dv">111</span> ...</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> eve.charge    <span class="sc">:</span> num  <span class="fl">16.78</span> <span class="fl">16.62</span> <span class="fl">10.3</span> <span class="fl">5.26</span> <span class="fl">12.61</span> ...</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> night.mins    <span class="sc">:</span> num  <span class="dv">245</span> <span class="dv">254</span> <span class="dv">163</span> <span class="dv">197</span> <span class="dv">187</span> ...</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> night.calls   <span class="sc">:</span> int  <span class="dv">91</span> <span class="dv">103</span> <span class="dv">104</span> <span class="dv">89</span> <span class="dv">121</span> <span class="dv">118</span> <span class="dv">118</span> <span class="dv">96</span> <span class="dv">90</span> <span class="dv">97</span> ...</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> night.charge  <span class="sc">:</span> num  <span class="fl">11.01</span> <span class="fl">11.45</span> <span class="fl">7.32</span> <span class="fl">8.86</span> <span class="fl">8.41</span> ...</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> customer.calls<span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">0</span> <span class="dv">3</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> ...</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> churn         <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">"yes"</span>,<span class="st">"no"</span><span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> function provides a concise overview of variable types and values, which is an important first step when working with a new dataset.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Create a small data frame with three columns: one numeric, one character, and one logical. Then use <code>$</code> to extract or modify individual columns, and try adding a new column using a logical condition.</p>
</blockquote>
</section></section><section id="lists-in-r" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="lists-in-r">Lists in R</h3>
<p>A <em>list</em> is a flexible and powerful data structure in R that can store a collection of elements of <em>different types and sizes</em>. Unlike vectors, matrices, or data frames: which require uniform data types across elements or columns, a list can hold a mix of objects, such as numbers, text, logical values, vectors, matrices, data frames, or even other lists.</p>
<p>Lists are especially useful when you want to bundle multiple results together. For example, model outputs in R often return a list containing coefficients, residuals, summary statistics, and diagnostics within a single object.</p>
<p>To create a list, use the <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> function:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list containing a vector, matrix, and data frame</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">vector =</span> prices, <span class="at">matrix =</span> my_matrix, <span class="at">data_frame =</span> students_df)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the contents of the list</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>my_list</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>   <span class="sc">$</span>vector</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="fl">49.23</span> <span class="fl">11.78</span> <span class="fl">38.99</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>   <span class="sc">$</span>matrix</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>        [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">2</span>    <span class="dv">3</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">2</span>,]    <span class="dv">4</span>    <span class="dv">5</span>    <span class="dv">6</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>   <span class="sc">$</span>data_frame</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>     student_id  name age grade is_adult</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>        <span class="dv">101</span>  Emma  <span class="dv">21</span>     A     <span class="cn">TRUE</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>        <span class="dv">102</span>   Bob  <span class="dv">22</span>     B     <span class="cn">TRUE</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span>        <span class="dv">103</span> Alice  <span class="dv">20</span>     A    <span class="cn">FALSE</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span>        <span class="dv">104</span>  Noah  <span class="dv">23</span>     C     <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This list, <code>my_list</code>, includes three named components: a numeric vector (<code>prices</code>), a matrix (<code>my_matrix</code>), and a data frame (<code>students_df</code>). You can access individual components using the <code>$</code> operator, numeric indexing, or double square brackets:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the matrix</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>matrix</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>        [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">2</span>    <span class="dv">3</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">2</span>,]    <span class="dv">4</span>    <span class="dv">5</span>    <span class="dv">6</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Or equivalently</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">2</span>]]</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>        [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">2</span>    <span class="dv">3</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">2</span>,]    <span class="dv">4</span>    <span class="dv">5</span>    <span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To inspect the structure of a list, use <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my_list)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>   List of <span class="dv">3</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> vector    <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="fl">49.2</span> <span class="fl">11.8</span> <span class="dv">39</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> matrix    <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] <span class="dv">1</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">6</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">$</span> data_frame<span class="sc">:</span><span class="st">'data.frame'</span><span class="sc">:</span>  <span class="dv">4</span> obs. of  <span class="dv">5</span> variables<span class="sc">:</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>     ..<span class="sc">$</span> student_id<span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="dv">101</span> <span class="dv">102</span> <span class="dv">103</span> <span class="dv">104</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>     ..<span class="sc">$</span> name      <span class="sc">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="st">"Emma"</span> <span class="st">"Bob"</span> <span class="st">"Alice"</span> <span class="st">"Noah"</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>     ..<span class="sc">$</span> age       <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="dv">21</span> <span class="dv">22</span> <span class="dv">20</span> <span class="dv">23</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>     ..<span class="sc">$</span> grade     <span class="sc">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="st">"A"</span> <span class="st">"B"</span> <span class="st">"A"</span> <span class="st">"C"</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>     ..<span class="sc">$</span> is_adult  <span class="sc">:</span> logi [<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This gives you a compact overview of each component’s type and contents, which is helpful for navigating large or nested lists.</p>
<p>Lists play an important role in R programming, especially in statistical modeling, simulations, and any task that involves returning or storing mixed results.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Create a list that includes a character vector, a logical vector, and a small data frame. Try accessing each component using <code>$</code>, <code>[[ ]]</code>, and numeric indexing.</p>
</blockquote>
</section></section><section id="accessing-columns-and-rows-in-r" class="level2" data-number="1.12"><h2 data-number="1.12" class="anchored" data-anchor-id="accessing-columns-and-rows-in-r">
<span class="header-section-number">1.12</span> Accessing Columns and Rows in R</h2>
<p>Once your data is loaded into R, you will often need to extract specific columns (variables) or rows (observations) for inspection, transformation, or visualization. Two common tools for this are the <code>$</code> operator and the <code>[]</code> (bracket) operator.</p>
<section id="using-the-operator" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="using-the-operator">Using the <code>$</code> Operator</h3>
<p>The <code>$</code> operator provides a quick and readable way to access a single column from a data frame or a named element from a list. For example, to access the <code>name</code> column in the <code>students_df</code> data frame:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>students_df<span class="sc">$</span>name</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="st">"Emma"</span>  <span class="st">"Bob"</span>   <span class="st">"Alice"</span> <span class="st">"Noah"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This returns a vector containing the values in the <code>name</code> column.</p>
<p>You can also use <code>$</code> with lists. For instance, if you have a list named <code>my_list</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>vector</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="fl">49.23</span> <span class="fl">11.78</span> <span class="fl">38.99</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This retrieves the numeric vector stored in the <code>vector</code> element of the list.</p>
</section><section id="using-the-operator-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="using-the-operator-1">Using the <code>[]</code> Operator</h3>
<p>The square bracket operator <code>[]</code> is more flexible and powerful. For data frames, the general syntax is:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span><span class="op">[</span><span class="va">row</span>, <span class="va">column</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To extract the first three rows of <code>students_df</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>students_df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>     student_id  name age grade is_adult</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>        <span class="dv">101</span>  Emma  <span class="dv">21</span>     A     <span class="cn">TRUE</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>        <span class="dv">102</span>   Bob  <span class="dv">22</span>     B     <span class="cn">TRUE</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span>        <span class="dv">103</span> Alice  <span class="dv">20</span>     A    <span class="cn">FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To select specific columns, such as <code>name</code> and <code>grade</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>students_df[, <span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"grade"</span>)]</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>      name grade</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>  Emma     A</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>   Bob     B</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span> Alice     A</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span>  Noah     C</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To extract a specific value, for example, the <code>grade</code> in the second row:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>students_df[<span class="dv">2</span>, <span class="st">"grade"</span>]</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>   [<span class="dv">1</span>] <span class="st">"B"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Unlike <code>$</code>, the bracket syntax allows you to use variable names programmatically and select multiple columns at once.</p>
<blockquote class="blockquote">
<p>Note: The <code>[]</code> operator also works with lists, but its behavior differs depending on whether you use single (<code>[ ]</code>) or double (<code>[[ ]]</code>) brackets. For now, focus on using it with data frames.</p>
</blockquote>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Load the <code>churn</code> dataset from the <strong>liver</strong> package. Extract the first seven rows using <code>churn[1:7, ]</code>. Then, use subsetting to select only rows where the <code>state</code> is <code>"OH"</code> and display the <code>churn</code> status for those customers.</p>
</blockquote>
</section></section><section id="how-to-merge-data-in-r" class="level2" data-number="1.13"><h2 data-number="1.13" class="anchored" data-anchor-id="how-to-merge-data-in-r">
<span class="header-section-number">1.13</span> How to Merge Data in R</h2>
<p>In real-world data analysis, information is often spread across multiple tables. Merging datasets allows you to combine related information: such as customer demographics and transaction histories, into a single structure for analysis. I have included this section early in the book because many of my students frequently ask how to combine data from different sources when working on their course projects. As soon as you begin working with real datasets, merging becomes a practical and essential skill, since the information you need rarely comes in a single file.</p>
<p>In R, the base function <code><a href="https://rdrr.io/r/base/merge.html">merge()</a></code> provides a flexible way to join two data frames using one or more shared columns (known as <em>keys</em>):</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">data_frame1</span>, y <span class="op">=</span> <span class="va">data_frame2</span>, by <span class="op">=</span> <span class="st">"column_name"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, <code>x</code> and <code>y</code> are the data frames to be merged, and <code>by</code> specifies the column(s) they have in common. If you’re matching on multiple columns, you can pass a character vector to <code>by</code>.</p>
<p>Consider the following two example data frames:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>                  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"David"</span>, <span class="st">"Eve"</span><span class="op">)</span>,</span>
<span>                  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">22</span>, <span class="fl">28</span>, <span class="fl">35</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>                  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">30</span>, <span class="fl">22</span>, <span class="fl">28</span><span class="op">)</span>,</span>
<span>                  salary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">50000</span>, <span class="fl">60000</span>, <span class="fl">70000</span>, <span class="fl">80000</span><span class="op">)</span>,</span>
<span>                  job <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"analyst"</span>, <span class="st">"manager"</span>, <span class="st">"developer"</span>, <span class="st">"designer"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To perform an <em>inner join</em> (keeping only rows with matching <code>id</code> values in both data frames):</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>merged_df <span class="ot">&lt;-</span> <span class="fu">merge</span>(<span class="at">x =</span> df1, <span class="at">y =</span> df2, <span class="at">by =</span> <span class="st">"id"</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>merged_df</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>     id  name age.x age.y salary     job</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>  <span class="dv">3</span> David    <span class="dv">35</span>    <span class="dv">25</span>  <span class="dv">50000</span> analyst</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>  <span class="dv">4</span>   Eve    <span class="dv">20</span>    <span class="dv">30</span>  <span class="dv">60000</span> manager</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To perform a <em>left join</em> (keeping all rows from <code>df1</code> and merging matched data from <code>df2</code>), set <code>all.x = TRUE</code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>merged_df_left <span class="ot">&lt;-</span> <span class="fu">merge</span>(<span class="at">x =</span> df1, <span class="at">y =</span> df2, <span class="at">by =</span> <span class="st">"id"</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>merged_df_left</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>     id  name age.x age.y salary     job</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>  <span class="dv">1</span> Alice    <span class="dv">22</span>    <span class="cn">NA</span>     <span class="cn">NA</span>    <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>  <span class="dv">2</span>   Bob    <span class="dv">28</span>    <span class="cn">NA</span>     <span class="cn">NA</span>    <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span>  <span class="dv">3</span> David    <span class="dv">35</span>    <span class="dv">25</span>  <span class="dv">50000</span> analyst</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span>  <span class="dv">4</span>   Eve    <span class="dv">20</span>    <span class="dv">30</span>  <span class="dv">60000</span> manager</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Other common options include:</p>
<ul>
<li><p><code>all.y = TRUE</code>: <em>right join</em> (keep all rows from <code>df2</code>);</p></li>
<li><p><code>all = TRUE</code>: <em>full join</em> (keep all rows from both data frames).</p></li>
</ul>
<p>If a row in one data frame has no match in the other, R will insert <code>NA</code> values in the unmatched columns.</p>
<p>While <code><a href="https://rdrr.io/r/base/merge.html">merge()</a></code> is a powerful and versatile function, later in the book we will introduce the <strong>dplyr</strong> package, which provides more concise alternatives like <code>left_join()</code> and <code>full_join()</code>, especially helpful when working in the tidyverse style.</p>
<blockquote class="blockquote">
<p><em>Tip</em>: Always check the number of rows before and after a merge. If you see unexpected <code>NA</code>s or missing records, it may signal a mismatch in key values or column types.</p>
</blockquote>
</section><section id="sec-ch1-visualization" class="level2" data-number="1.14"><h2 data-number="1.14" class="anchored" data-anchor-id="sec-ch1-visualization">
<span class="header-section-number">1.14</span> Getting Started with Data Visualization in R</h2>
<p>Have you ever looked at a dataset and asked, <em>What patterns are hiding here?</em> Visualization helps you answer that question by turning raw numbers into compelling, informative graphics.</p>
<p>In data science, seeing is often understanding. Whether you are identifying patterns, checking assumptions, or presenting results, effective visuals transform numbers into insight. As you will see in Chapter <a href="4-Exploratory-data-analysis.html" class="quarto-xref"><span>4</span></a>, exploratory data analysis (EDA) relies heavily on visual summaries to uncover trends, outliers, and relationships.</p>
<p>A key strength of R is its visualization ecosystem. From quick exploration to publication-ready figures, R makes it easy to build clear and powerful plots. The most widely used tool for this is the <strong>ggplot2</strong> package, celebrated for its consistency, modularity, and elegance.</p>
<p>There are two main systems for creating plots in R: the base graphics system and <a href="https://CRAN.R-project.org/package=ggplot2"><strong>ggplot2</strong></a>. While base graphics work well for quick plotting, <strong>ggplot2</strong> offers a more structured and declarative approach, inspired by the <em>Grammar of Graphics</em>.</p>
<p>The name <strong>ggplot2</strong> reflects this foundation: a system for building statistical graphics by combining independent layers such as data, aesthetics, geometries, and more. This modular design makes <strong>ggplot2</strong> intuitive to learn and flexible to use. In practice, this philosophy is implemented through the use of the <code>+</code> operator, which lets you construct a plot layer by layer, starting with a dataset and gradually adding visual components.</p>
<p>This book emphasizes <strong>ggplot2</strong>, and nearly all visualizations, including Figure <a href="#fig-ch1-tiny-gains" class="quarto-xref"><span>1.1</span></a> introduced earlier, are built with it. Even a few lines of code can produce professional-quality output.</p>
<p>A typical <strong>ggplot2</strong> plot has three essential components:</p>
<ul>
<li><p><em>Data</em>: the dataset to visualize.</p></li>
<li><p><em>Aesthetics</em>: how variables map to visual properties like position or color.</p></li>
<li><p><em>Geometries</em>: the visual elements: points, lines, bars, or boxes.</p></li>
</ul>
<p>You add these layers using the <code>+</code> operator. This makes plots easy to build step by step, starting simple and then refining with titles, colors, themes, or statistical summaries.</p>
<p>Figure <a href="#fig-ggplot-layes" class="quarto-xref"><span>1.7</span></a> gives a visual summary of the seven main layers that form the backbone of any <strong>ggplot2</strong> visualization.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ggplot-layes" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ggplot-layes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/ch1_ggplot_layers.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:85.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-layes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.7: Grammar of Graphics and ggplot2 layers. The seven core layers of a ggplot: data, aesthetics, geometries, facets, statistics, coordinates, and theme.
</figcaption></figure>
</div>
</div>
</div>
<p>Before using <strong>ggplot2</strong>, install the package as described in Section <a href="#sec-install-packages" class="quarto-xref"><span>1.6</span></a>, then load it into your session:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To see these ideas in action, consider the following simple scatter plot of miles per gallon (<code>mpg</code>) versus horsepower (<code>hp</code>) using the built-in <em>mtcars</em> dataset:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p>In this example:</p>
<ul>
<li><p><code>ggplot(data = mtcars)</code> initializes the plot with the dataset;</p></li>
<li><p><code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> adds a layer of points;</p></li>
<li><p><code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> defines the aesthetic mapping from variables to axes.</p></li>
</ul>
<p>The general template for <strong>ggplot2</strong> plots is:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="sc">&lt;</span>DATA<span class="sc">&gt;</span>) <span class="sc">+</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="er">&lt;</span>GEOM_FUNCTION<span class="sc">&gt;</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="sc">&lt;</span>MAPPINGS<span class="sc">&gt;</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Replace the angle brackets with your own inputs. This template provides a consistent framework for building plots incrementally, adding layers such as smoothing lines, facets, or custom themes. You will use this approach throughout the book to explore, analyze, and communicate insights from your data.</p>
<section id="geom-functions-in-ggplot2" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="geom-functions-in-ggplot2">Geom Functions in ggplot2</h3>
<p>In <strong>ggplot2</strong>, <em>geom functions</em> define what kind of plot you want to make. Each <code>geom_</code> function adds a <em>geometric object</em>, such as points, lines, or bars, as a new layer on top of your plot.</p>
<p>Here are some of the most commonly used geom functions:</p>
<ul>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> creates a scatter plot;</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code> creates a bar chart;</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code> creates a line chart;</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code> creates a box plot;</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code> creates a histogram;</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density()</a></code> creates a smooth density curve;</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a></code> adds a smoothed trend line (e.g., LOESS or linear fit).</li>
</ul>
<p>For example, to visualize the relationship between miles per gallon (<code>mpg</code>) and horsepower (<code>hp</code>) in the <em>mtcars</em> dataset using a smoothed trend line:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p>This plot shows the general pattern in the data, helping you see whether <code>mpg</code> tends to increase or decrease as <code>hp</code> changes.</p>
<p>You can also <em>combine multiple geoms</em> to enrich your plots. For instance, layering a scatter plot with a smooth trend line:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p>The order of layers matters: here, the trend line is plotted first, and the points are layered on top. This lets you preserve visibility while showing both the data and the overall pattern.</p>
<p>If multiple layers use the same aesthetic mappings, you can define them <em>once globally</em> inside the <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code> call:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span>, mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This avoids repeating the same mapping in each layer and keeps your code cleaner and more consistent.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Pick two numeric variables from the <code>churn</code> dataset, for example, <code>day.mins</code> (Day Minutes) and <code>eve.mins</code> (Evening Minutes). Use <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code> to create a scatter plot. What relationship do you observe?</p>
</blockquote>
</section><section id="aesthetics-in-ggplot2" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="aesthetics-in-ggplot2">Aesthetics in ggplot2</h3>
<p><em>Aesthetics</em> in <strong>ggplot2</strong> define how data variables are visually mapped to features like color, size, shape, and transparency. These mappings are specified inside the <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> function and allow your plot to visually reflect differences in the data.</p>
<p>For example, to map the color of each point to the number of cylinders in a car:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span>, color <span class="op">=</span> <span class="va">cyl</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p>Because <code>color = cyl</code> is inside <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>, the color is <em>data-driven</em>. Each point’s color corresponds to the number of cylinders (<code>cyl</code>), and <strong>ggplot2</strong> automatically adds a legend.</p>
<p>Other aesthetics you can vary include <code>size</code>, <code>alpha</code> (transparency), and <code>shape</code>:</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Varying point size by number of cylinders</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span>, size <span class="op">=</span> <span class="va">cyl</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Varying transparency (alpha) by number of cylinders</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span>, alpha <span class="op">=</span> <span class="va">cyl</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="2" data-layout-align="center">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" data-fig-pos="H"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-59-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
</div>
<p>When aesthetics are placed <em>inside</em> <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>, they respond to the data. If you want to apply a constant appearance, such as making all points blue or triangles of the same size, set the attributes <em>outside</em> of <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span>, y <span class="op">=</span> <span class="va">hp</span><span class="op">)</span>,</span>
<span>             color <span class="op">=</span> <span class="st">"blue"</span>, size <span class="op">=</span> <span class="fl">3</span>, shape <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p>This creates a plot with fixed styling: all points are blue, triangular, and equally sized. Since the appearance is not based on the data, <strong>ggplot2</strong> does not generate a legend.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: In the <code>churn</code> dataset, can you map color to the <code>churn</code> variable and size to <code>custserv.calls</code> in a scatter plot of <code>day.mins</code> versus <code>eve.mins</code>? What do you observe?</p>
</blockquote>
<p>With just a few core components, such as <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a></code>, and <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>, you can construct expressive and insightful graphics. In Chapter <a href="4-Exploratory-data-analysis.html" class="quarto-xref"><span>4</span></a>, we will expand on this foundation to explore distributions, relationships, and trends as part of the EDA process.</p>
<p>For more details, see the <a href="https://ggplot2.tidyverse.org"><strong>ggplot2</strong> documentation</a>. If you are curious about interactive visualizations, check out packages like <a href="https://plotly.com/r"><strong>plotly</strong></a> or <a href="https://CRAN.R-project.org/package=shiny"><strong>Shiny</strong></a>.</p>
</section></section><section id="sec-formula-in-R" class="level2" data-number="1.15"><h2 data-number="1.15" class="anchored" data-anchor-id="sec-formula-in-R">
<span class="header-section-number">1.15</span> Formula in R</h2>
<p>Formulas in R offer a simple and powerful way to describe relationships between variables. They are used extensively in statistical modeling, especially for regression, classification, and machine learning, to define how an outcome depends on one or more predictors.</p>
<p>A formula in R uses the tilde symbol <code>~</code> to separate the response variable (on the left) from the predictor variables (on the right). The basic structure looks like this:</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">response</span> <span class="op">~</span> <span class="va">predictor1</span> <span class="op">+</span> <span class="va">predictor2</span> <span class="op">+</span> <span class="va">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For example, in the <code>diamonds</code> dataset, you could model <code>price</code> as a function of <code>carat</code>, <code>cut</code>, and <code>color</code> using:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">price</span> <span class="op">~</span> <span class="va">carat</span> <span class="op">+</span> <span class="va">cut</span> <span class="op">+</span> <span class="va">color</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To include <em>all</em> other variables in the dataset as predictors, you can use a shorthand formula:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">price</span> <span class="op">~</span> <span class="va">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is especially useful when working with large datasets where listing every predictor manually would be inefficient.</p>
<p>Behind the scenes, an R formula acts as a <em>symbolic object</em>. Rather than computing anything immediately, it instructs R to interpret variable names as columns in a dataset, making your modeling code both readable and flexible.</p>
<p>Conceptually, the left-hand side of <code>~</code> represents the <em>response</em> variable (what you want to predict), and the right-hand side lists the <em>predictors</em> (what you use to predict it). Mathematically, this can be thought of as:</p>
<p><span class="math display">\[
y = f(x_1, x_2, \dots)
\]</span></p>
<p>Here is a quick example using linear regression. Suppose we want to predict a diamond’s price based on three features:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">price</span> <span class="op">~</span> <span class="va">carat</span> <span class="op">+</span> <span class="va">cut</span> <span class="op">+</span> <span class="va">color</span>, data <span class="op">=</span> <span class="va">diamonds</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this case, the formula defines the model structure, while the <code>data</code> argument tells R which dataset to use.</p>
<p>You will encounter formulas repeatedly throughout the book in regression models, classification algorithms, and other statistical methods (see Chapters <a href="7-Classification-kNN.html" class="quarto-xref"><span>7</span></a>, <a href="9-Naive-Bayes.html" class="quarto-xref"><span>9</span></a>, and <a href="10-Regression.html" class="quarto-xref"><span>10</span></a>). Learning this syntax early will help you build, interpret, and adjust models more effectively later on.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Using the <code>diamonds</code> dataset, try fitting a model where <code>price</code> depends on <code>carat</code> and <code>clarity</code>. What happens if you use <code>price ~ .</code> instead?</p>
</blockquote>
</section><section id="sec-ch1-simulate-data" class="level2" data-number="1.16"><h2 data-number="1.16" class="anchored" data-anchor-id="sec-ch1-simulate-data">
<span class="header-section-number">1.16</span> Simulating Data in R</h2>
<p>Some readers find simulation unfamiliar at first and may be tempted to skip this section. However, it is one of the most practical and empowering tools in data science. With just a few lines of code, you can generate realistic datasets to explore statistical concepts, test algorithms, or build examples when real data is unavailable.</p>
<p>In R, simulation is used extensively for both learning and modeling. It plays a key role in prototyping and debugging algorithms, teaching and illustrating statistical principles, generating synthetic datasets for model development, and testing methods under controlled, reproducible conditions.</p>
<p>R offers many built-in functions to generate random values from common statistical distributions. Some of the most frequently used include:</p>
<ul>
<li>
<code>rnorm(n, mean, sd)</code>: normal distribution (e.g., for heights or test scores),</li>
<li>
<code>runif(n, min, max)</code>: uniform distribution (e.g., for probabilities or noise),</li>
<li>
<code>rbinom(n, size, prob)</code>: binomial distribution (e.g., yes/no outcomes),</li>
<li>
<code>rexp(n, rate)</code>: exponential distribution (e.g., for time-to-event data),</li>
<li>
<code>sample(x, size, replace)</code>: sampling from a vector (e.g., categories or IDs).</li>
</ul>
<p>To make your results reproducible, always use <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code> before generating random values.</p>
<div id="ex-simulate-normal" class="example">
<p><strong>Example</strong>: Simulate 500 values from a normal distribution with mean 10 and standard deviation 2.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">500</span>, <span class="at">mean =</span> <span class="dv">10</span>, <span class="at">sd =</span> <span class="dv">2</span>)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(x)</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>      Min. <span class="dv">1</span>st Qu.  Median    Mean <span class="dv">3</span>rd Qu.    Max. </span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>     <span class="fl">4.014</span>   <span class="fl">8.679</span>   <span class="fl">9.924</span>   <span class="fl">9.940</span>  <span class="fl">11.271</span>  <span class="fl">15.932</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">data.frame</span>(x)) <span class="sc">+</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> x), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill =</span> <span class="st">"#2C7BB6"</span>, <span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Simulated Data"</span>, <span class="at">x =</span> <span class="st">"Values"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-64-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
</div>
<p>You can also simulate multiple variables and combine them into a data frame to create small, realistic datasets.</p>
<div id="ex-simulate-patients" class="example">
<p><strong>Example</strong>: Create synthetic data for a small study on age and blood pressure.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">30</span><span class="sc">:</span><span class="dv">80</span>, <span class="dv">50</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>bp  <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">120</span>, <span class="at">sd =</span> <span class="dv">15</span>)</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>patients <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">age =</span> age, <span class="at">blood_pressure =</span> bp)</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(patients)</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>     age blood_pressure</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span>  <span class="dv">78</span>       <span class="fl">93.55255</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>  <span class="dv">66</span>      <span class="fl">126.90146</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span>  <span class="dv">30</span>      <span class="fl">110.40008</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span>  <span class="dv">54</span>      <span class="fl">126.83175</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>   <span class="dv">5</span>  <span class="dv">39</span>      <span class="fl">130.57256</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>   <span class="dv">6</span>  <span class="dv">65</span>      <span class="fl">135.52655</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Simulation is more than a teaching device; it is foundational in advanced techniques such as bootstrapping, Bayesian inference, and Monte Carlo methods. In this book (e.g., Chapter <a href="7-Classification-kNN.html" class="quarto-xref"><span>7</span></a>), you will use simulated data to explore and evaluate models with clarity and control.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Simulate a dataset with 100 people. Assign each an <code>age</code> between 18 and 65, and an <code>income</code> drawn from a normal distribution with mean 40,000 and standard deviation 8,000. Can you visualize the income distribution using a histogram? What does a scatter plot of income vs.&nbsp;age reveal?</p>
</blockquote>
</section><section id="reporting-with-r-markdown" class="level2" data-number="1.17"><h2 data-number="1.17" class="anchored" data-anchor-id="reporting-with-r-markdown">
<span class="header-section-number">1.17</span> Reporting with R Markdown</h2>
<p>Imagine you have just completed an in-depth analysis. Your model predicts customer churn with 87% accuracy, the visualizations are compelling, and the insights could inform real business decisions. Now comes a crucial question: how will you present your findings?</p>
<p>Communicating insights is one of the most important, yet often overlooked, steps in the Data Science Workflow. Analyses that are statistically sound and computationally rigorous have limited value if their conclusions are not conveyed clearly. Whether addressing technical collaborators, business stakeholders, or policymakers, you must transform complex results into a format that is both accessible and reproducible.</p>
<p>R Markdown is designed for this purpose. It provides a flexible and powerful environment for integrating code, output, and narrative in a single document. With R Markdown, you can weave together your analysis and explanation, producing reports, presentations, or dashboards that update automatically as your data changes.</p>
<p>This book was initially drafted entirely using R Markdown in combination with the <a href="https://bookdown.org"><strong>bookdown</strong></a> package. This enabled automated output generation, version control integration, and full synchronization of code, figures, and tables, ensuring that every result remains accurate and reproducible across versions.</p>
<p>Unlike traditional word processors, R Markdown supports dynamic content. Reports compiled from <code>.Rmd</code> files are not just documents; they are living, executable records of your analysis. Supported output formats include HTML, PDF, Word, and PowerPoint, allowing you to tailor your communication to different audiences. With the addition of <strong>Shiny</strong>, R Markdown can even produce interactive dashboards for real-time data exploration.</p>
<p>If you are new to R Markdown, two official resources provide practical and accessible starting points. The <a href="https://rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf"><em>R Markdown Cheat Sheet</em></a>, also available in RStudio under <em>Help &gt; Cheatsheets</em>, offers a concise overview of key syntax and features. For more advanced formatting and customization, the <a href="https://rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf"><em>R Markdown Reference Guide</em></a> provides detailed documentation and examples.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Open RStudio, create a new R Markdown file, and type your first heading and code chunk. With just a few lines, you can generate a fully formatted HTML report that combines your analysis and your voice.</p>
</blockquote>
<section id="r-markdown-basics" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="r-markdown-basics">R Markdown Basics</h3>
<p>How can you share an analysis that includes your code, reasoning, and results all organized in one place? This is the principle of <em>literate programming</em>, where code and narrative are integrated within a single document. R Markdown embraces this approach, enabling you to combine text, executable R code, and visual output in a fully reproducible format.</p>
<p>Unlike word processors that display formatting directly as you type, R Markdown separates content creation from rendering. You write in plain text and compile the document to produce the final output. During this process, R runs the code chunks, generates figures and tables, and inserts them automatically into the report. This workflow ensures that your narrative and results remain synchronized, even as the data changes.</p>
<p>To create a new R Markdown file in RStudio, navigate to:</p>
<blockquote class="blockquote">
<p><em>File &gt; New File &gt; R Markdown</em></p>
</blockquote>
<p>A dialog box will appear where you can choose the type of document you want to create. For a standard report, select “Document.” Other options include “Presentation” for slides, “Shiny” for interactive applications, and “From Template” for preconfigured formats. After entering a title and author name, choose the desired output format: HTML, PDF, or Word. HTML is typically recommended for beginners, as it compiles quickly and provides useful feedback during development.</p>
<p>R Markdown files use the <code>.Rmd</code> extension, distinguishing them from standard <code>.R</code> scripts. Each new file includes a built-in template that you can modify with your own text, code, and formatting. This serves as a useful starting point for learning the structure and syntax of R Markdown documents.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Create a new R Markdown file and render it without changing anything. Then edit the title, add your own sentence, and run it again to see how the output updates.</p>
</blockquote>
</section><section id="the-header" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="the-header">The Header</h3>
<p>At the top of every R Markdown file is a section called the <em>YAML header</em>, which serves as the control panel for your document. It contains metadata that determines how the document is rendered, such as the title, author, date, and output format. This header is enclosed between three dashes (<code>---</code>) at the beginning of the file.</p>
<p>Here is a typical example:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Data Science is Cool"</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"Your Name"</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">"June 01, 2025"</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Each entry specifies a key element of the report:</p>
<ul>
<li><p><code>title</code>: sets the title displayed at the top of the document.</p></li>
<li><p><code>author</code>: identifies the report’s author.</p></li>
<li><p><code>date</code>: records the creation or compilation date.</p></li>
<li><p><code>output</code>: defines the output format, such as <code>html_document</code>, <code>pdf_document</code>, or <code>word_document</code>.</p></li>
</ul>
<p>Additional customization options can be added to the header. For instance, to include a table of contents in an HTML report, you can modify the <code>output</code> field as follows:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This is especially useful for longer documents with multiple sections, allowing readers to navigate more easily. Other options include setting figure dimensions, enabling syntax highlighting, or selecting a document theme. These settings offer precise control over both the appearance and behavior of your report.</p>
<p>In the next section, you will learn how to include code in your report and configure how it is displayed during rendering.</p>
</section><section id="code-chunks-and-inline-code" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="code-chunks-and-inline-code">Code Chunks and Inline Code</h3>
<p>One of the defining features of R Markdown is its ability to weave together code and narrative. This is accomplished through <em>code chunks</em> and <em>inline code</em>, which allow you to embed executable R commands directly within your report. As a result, your output, such as tables, plots, and summaries, remains consistent with the underlying code and data.</p>
<p>A code chunk is a block of code enclosed in triple backticks (<code>```</code>) and marked with a chunk header that specifies the language (in this case, <code>{r}</code>). For example:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="in">2 + 3</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>   [1] 5</code></pre>
</div>
<p>When the document is rendered, R executes the code and inserts the output at the appropriate location. Code chunks are commonly used for data wrangling, statistical modeling, creating visualizations, and running simulations.</p>
<p>To run individual chunks interactively in RStudio, click the <em>Run</em> button at the top of the chunk or press <code>Ctrl + Shift + Enter</code>. See Figure <a href="#fig-run-chunk" class="quarto-xref"><span>1.8</span></a> for a visual reference.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-run-chunk" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-run-chunk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/ch1_run-chunk.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%" data-fig-pos="H">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-run-chunk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1.8: Executing a code chunk in R Markdown using the ‘Run’ button in RStudio.
</figcaption></figure>
</div>
</div>
</div>
<p>Code chunks support a variety of options that control how code and output are displayed. These options are specified in the chunk header. For example:</p>
<ul>
<li><p><code>echo = FALSE</code> hides the code but still displays the output.</p></li>
<li><p><code>eval = FALSE</code> shows the code but does not execute it.</p></li>
<li><p><code>message = FALSE</code> suppresses messages generated by functions (e.g., when loading packages).</p></li>
<li><p><code>warning = FALSE</code> hides warning messages.</p></li>
<li><p><code>error = FALSE</code> suppresses error messages.</p></li>
<li><p><code>include = FALSE</code> runs the code but omits both the code and its output.</p></li>
</ul>
<p>Table <a href="#tbl-chunk-options" class="quarto-xref"><span>1.1</span></a> summarizes how these options affect what appears in the final report:</p>
<div class="cell" data-layout-align="center">
<div id="tbl-chunk-options" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-chunk-options-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1.1: Behavior of code chunk options and their impact on execution, visibility, and outputs.
</figcaption><div aria-describedby="tbl-chunk-options-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div style="border: 0;overflow-x: scroll; width:100%; ">
<table class="table do-not-create-environment cell caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Option</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Run Code</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Show Code</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Output</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Plots</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Messages</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Warnings</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Errors</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>echo = FALSE</code></td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>eval = FALSE</code></td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>message = FALSE</code></td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>warning = FALSE</code></td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">✓</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>error = FALSE</code></td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">×</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>include = FALSE</code></td>
<td style="text-align: center;">✓</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
<td style="text-align: center;">×</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</figure>
</div>
</div>
<p>In addition to full chunks, you can embed small pieces of R code directly within text using <em>inline code</em>. This is done with backticks and the <code>r</code> prefix. For example:</p>
<blockquote class="blockquote">
<p>The factorial of 5 is <code>`r factorial(5)`</code>.</p>
</blockquote>
<p>This renders as:</p>
<blockquote class="blockquote">
<p>The factorial of 5 is 120.</p>
</blockquote>
<p>Inline code is especially useful when you want to report dynamic values, such as sample sizes, summary statistics, or dates, that update automatically whenever the document is recompiled.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Create a new R Markdown file and add a code chunk that calculates the mean of a numeric vector. Then use inline code to display that mean in a sentence.</p>
</blockquote>
</section><section id="styling-text" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="styling-text">Styling Text</h3>
<p>Clear, well-structured text is an essential part of any data report. In R Markdown, you can format your writing to emphasize key ideas, organize content, and improve readability. This section introduces a few core formatting tools that help you communicate effectively.</p>
<p>To create section titles and organize your document, use one or more <code>#</code> symbols to indicate heading levels. For example, <code>#</code> creates a main section, <code>##</code> a subsection, and so on. Bold text is written by enclosing it in double asterisks (e.g., <code>**bold**</code>), while italic text uses single asterisks (e.g., <code>*italic*</code>). These conventions mirror common Markdown syntax and work across all output formats.</p>
<p>Lists are created using <code>*</code> or <code>-</code> at the start of each line. For example:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>First item  </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Second item</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To insert hyperlinks, use square brackets for the link text followed by the URL in parentheses, for example: <code>[R Markdown website](https://rmarkdown.rstudio.com)</code>. You can also include images using a similar structure, with an exclamation mark at the beginning: <code>![Alt text](path/to/image.png)</code>.</p>
<p>R Markdown supports mathematical notation using LaTeX-style syntax. Inline equations are enclosed in single dollar signs, such as <code>$y = \beta_0 + \beta_1 x$</code>, while block equations use double dollar signs and appear centered on their own line:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="an">Inline:</span><span class="co"> $y = \beta_0 + \beta_1 x$  </span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="an">Block:</span><span class="co"> $$ y = \beta_0 + \beta_1 x $$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Mathematical expressions render correctly in HTML and PDF formats; support in Word documents may be more limited.</p>
<p>For a full overview of Markdown formatting and additional options, see the <a href="https://rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf">R Markdown Cheat Sheet</a>.</p>
<blockquote class="blockquote">
<p><em>Tip</em>: Try editing a heading, adding emphasis to a word, or inserting a list in your own R Markdown document. Even small formatting improvements can make your writing easier to follow.</p>
</blockquote>
</section><section id="mastering-r-markdown" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="mastering-r-markdown">Mastering R Markdown</h3>
<p>As your skills in R grow, R Markdown will become an increasingly powerful tool, not only for reporting results but also for building reproducible workflows that evolve with your projects. Mastery of this tool enables you to document, share, and automate your analyses with clarity and consistency.</p>
<p>Several resources can help you deepen your understanding. The online book <a href="https://bookdown.org/yihui/rmarkdown"><em>R Markdown: The Definitive Guide</em></a> provides a comprehensive reference, including advanced formatting, customization options, and integration with tools like <strong>knitr</strong> and <strong>bookdown</strong>. If you prefer structured lessons, the <a href="https://rmarkdown.rstudio.com/lesson-1.html">R Markdown tutorial series</a> offers a step-by-step introduction to essential concepts and practices. For learners who enjoy interactive platforms, <a href="https://www.datacamp.com/courses/reporting-with-r-markdown">DataCamp’s R Markdown course</a> provides guided exercises. Finally, the <a href="https://community.rstudio.com/c/rmarkdown/9">RStudio Community forum</a> is an excellent place to find answers to specific questions and engage with experienced users.</p>
<p>Throughout this book, you will continue using R Markdown, not just to document isolated analyses, but to support entire data science workflows. As your projects become more complex, this approach will help ensure that your code, results, and conclusions remain transparent, organized, and reproducible.</p>
</section></section><section id="reporting-with-quarto" class="level2" data-number="1.18"><h2 data-number="1.18" class="anchored" data-anchor-id="reporting-with-quarto">
<span class="header-section-number">1.18</span> Reporting with Quarto</h2>
<p>While R Markdown has long been a popular tool for reproducible reporting in R, Quarto represents its modern evolution. Designed to support multilingual workflows, Quarto provides a unified framework for combining narrative, code, and output across multiple programming languages, including R, Python, Julia, and Observable JavaScript.</p>
<p>Like R Markdown, Quarto enables dynamic document generation. But it extends these capabilities with enhanced support for cross-referencing, equation numbering, citations, and a wide range of publishing formats, including HTML, PDF, Word, slides, and websites, all from a single <code>.qmd</code> file.</p>
<p>This book was originally drafted using R Markdown. However, once we began developing a companion version in Python, we transitioned to Quarto. Its language-agnostic design allowed us to maintain a consistent workflow while supporting multiple programming languages in parallel.</p>
<p>If your work is primarily in R, R Markdown remains a mature and well-supported tool. But if you use multiple languages, or plan to create interactive documents, presentations, or websites, Quarto offers a more flexible and forward-looking solution.</p>
<p>To create a new Quarto document in RStudio:</p>
<blockquote class="blockquote">
<p><em>File &gt; New File &gt; Quarto Document</em></p>
</blockquote>
<p>A dialog will prompt you to select the document type and programming language. The syntax in <code>.qmd</code> files is similar to R Markdown, making the transition smooth for most users.</p>
<p>To explore the full capabilities of Quarto, visit the official documentation at <a href="https://quarto.org"><em>quarto.org</em></a>.</p>
</section><section id="chapter-summary-and-takeaways" class="level2" data-number="1.19"><h2 data-number="1.19" class="anchored" data-anchor-id="chapter-summary-and-takeaways">
<span class="header-section-number">1.19</span> Chapter Summary and Takeaways</h2>
<p>This chapter introduced the R programming language as the foundation for data science and machine learning. You installed R and RStudio, explored the RStudio interface, and executed your first commands. You also learned how R handles core data types and structures, how to import and examine real-world datasets, and how to visualize data effectively.</p>
<p>In addition, you were introduced to <em>reproducible reporting</em> using R Markdown and Quarto, two tools that integrate code, narrative, and results in a single dynamic document. These tools support transparency, collaboration, and long-term reproducibility, making them essential components of the data science toolkit.</p>
<p>Throughout this chapter, we emphasized foundational habits: <em>writing clean code</em>, <em>thinking systematically</em>, and <em>building scalable workflows</em>. These principles are essential at every stage of the <em>Data Science Workflow</em> and will serve as your compass throughout this book. Many of my students begin their journey with no prior programming experience. Yet by the end of the course, they confidently use R to explore real-world datasets, create meaningful visualizations, and draw actionable insights. If you are starting from scratch; this path is entirely achievable. You are in good company.</p>
<blockquote class="blockquote">
<p><em>Key takeaway</em>: Mastering R is not about memorization; it is about developing a mindset for working with data. As illustrated in <a href="#fig-ch1-tiny-gains" class="quarto-xref">Figure&nbsp;<span>1.1</span></a>, small, consistent improvements lead to substantial progress. Do not worry if everything feels unfamiliar right now. By working through the upcoming chapters step by step, you will gradually build fluency and confidence in using R to analyze data and communicate insights.</p>
</blockquote>
<p>Now that you have installed R, explored its key concepts, and visualized data with <strong>ggplot2</strong>, it is time to apply what you have learned.</p>
</section><section id="sec-intro-R-exercises" class="level2" data-number="1.20"><h2 data-number="1.20" class="anchored" data-anchor-id="sec-intro-R-exercises">
<span class="header-section-number">1.20</span> Exercises</h2>
<p>Use the exercises below to reinforce your understanding of the tools and concepts introduced in this chapter. Begin with foundational tasks, then build toward more complex data exploration and visualization challenges.</p>
<ol type="1">
<li><p>Install R and RStudio on your computer.</p></li>
<li><p>Use <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> to check your current working directory. Then use <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> to change it to a location of your choice.</p></li>
<li><p>Create a numeric vector <code>numbers</code> with the values 5, 10, 15, 20, and 25. Calculate its mean and standard deviation.</p></li>
<li><p>Use the <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> function to construct a <span class="math inline">\(3 \times 4\)</span> matrix filled with the numbers 1 through 12.</p></li>
<li><p>Build a data frame with the following columns:</p></li>
</ol>
<ul>
<li>
<code>student_id</code>: integer.</li>
<li>
<code>name</code>: character.</li>
<li>
<code>score</code>: numeric.</li>
<li>
<code>passed</code>: logical (set to <code>TRUE</code> or <code>FALSE</code>).</li>
</ul>
<p>Display the first few rows using <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code>.</p>
<ol start="6" type="1">
<li><p>Install and load the <strong>liver</strong> and <strong>ggplot2</strong> packages. If installation fails, check your internet connection and CRAN access.</p></li>
<li><p>Load the <code>churn</code> dataset from the <strong>liver</strong> package. Display the first six rows with <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code>.</p></li>
<li><p>Use <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> to inspect the structure of the <code>churn</code> dataset, and identify its variable types.</p></li>
<li><p>Use <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code> to report the number of rows and columns in the dataset.</p></li>
<li><p>Apply <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> to generate descriptive statistics for all variables in <code>churn</code>.</p></li>
<li><p>Create a scatter plot of <code>day.mins</code> vs.&nbsp;<code>eve.mins</code> using <strong>ggplot2</strong>.</p></li>
<li><p>Create a histogram of the <code>day.calls</code> variable.</p></li>
<li><p>Create a boxplot of <code>day.mins</code>.</p></li>
<li><p>Create a boxplot of <code>day.mins</code> grouped by <code>churn</code> status. <em>Hint:</em> See Section <a href="4-Exploratory-data-analysis.html#sec-EDA-sec-numeric" class="quarto-xref"><span>4.5</span></a>.</p></li>
<li><p>Use <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> to compute the average number of customer service calls overall, and for customers who churned (<code>churn == "yes"</code>).</p></li>
<li><p>Create an R Markdown report that includes:</p></li>
</ol>
<ul>
<li>A title and your name,</li>
<li>A code chunk that explores the <code>churn</code> dataset,</li>
<li>At least one visualization.</li>
</ul>
<p>Render the report to HTML.</p>
<section id="more-challenging-exercises" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="more-challenging-exercises">More Challenging Exercises</h4>
<ol start="17" type="1">
<li>Simulate a dataset of 200 patients using the following code. Then, use <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> to explore the dataset. This data will be used in Chapter <a href="7-Classification-kNN.html" class="quarto-xref"><span>7</span></a>.</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Simulate data for kNN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="va">n</span>  <span class="op">=</span> <span class="fl">200</span>         <span class="co"># Number of patients</span></span>
<span><span class="va">n1</span> <span class="op">=</span> <span class="fl">90</span>          <span class="co"># Number of patients with drug A</span></span>
<span><span class="va">n2</span> <span class="op">=</span> <span class="fl">60</span>          <span class="co"># Number of patients with drug B </span></span>
<span><span class="va">n3</span> <span class="op">=</span> <span class="va">n</span> <span class="op">-</span> <span class="va">n1</span> <span class="op">-</span> <span class="va">n2</span> <span class="co"># Number of patients with drug C</span></span>
<span></span>
<span><span class="co"># Generate Age variable between 15 and 75</span></span>
<span><span class="va">Age</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">15</span><span class="op">:</span><span class="fl">75</span>, size <span class="op">=</span> <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate Drug Type variable with three levels</span></span>
<span><span class="va">Type</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>, size <span class="op">=</span> <span class="va">n</span>, </span>
<span>              replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">n1</span>, <span class="va">n2</span>, <span class="va">n3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate Sodium/Potassium Ratio based on Drug Type</span></span>
<span><span class="va">Ratio</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Ratio</span><span class="op">[</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"A"</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">10</span><span class="op">:</span><span class="fl">40</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"A"</span><span class="op">)</span>, </span>
<span>                            replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Ratio</span><span class="op">[</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"B"</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span>  <span class="fl">5</span><span class="op">:</span><span class="fl">15</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"B"</span><span class="op">)</span>, </span>
<span>                            replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Ratio</span><span class="op">[</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"C"</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span>x <span class="op">=</span>  <span class="fl">5</span><span class="op">:</span><span class="fl">15</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"C"</span><span class="op">)</span>, </span>
<span>                            replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a data frame with the generated variables</span></span>
<span><span class="va">drug_data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Age <span class="op">=</span> <span class="va">Age</span>, Ratio <span class="op">=</span> <span class="va">Ratio</span>, Type <span class="op">=</span> <span class="va">Type</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="18" type="1">
<li>Visualize the relationship between <code>Age</code> and <code>Ratio</code>, using color and shape to distinguish <code>Type</code>:</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">drug_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Age</span>, y <span class="op">=</span> <span class="va">Ratio</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">Type</span>, shape <span class="op">=</span> <span class="va">Type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Age vs. Sodium/Potassium Ratio"</span>, </span>
<span>       x <span class="op">=</span> <span class="st">"Age"</span>, y <span class="op">=</span> <span class="st">"Sodium/Potassium Ratio"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="1-Intro-R_files/figure-html/unnamed-chunk-69-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<ol start="19" type="1">
<li>Add an <code>Outcome</code> variable to <code>drug_data</code> where:</li>
</ol>
<ul>
<li>
<code>Type == "A"</code> has a high chance of <code>"Good"</code> outcome,</li>
<li>
<code>Type == "B"</code> or <code>"C"</code> have a lower chance of <code>"Good"</code>.</li>
</ul>
<ol start="20" type="1">
<li><p>Create a scatter plot of <code>Age</code> vs.&nbsp;<code>Ratio</code>, colored by <code>Outcome</code>.</p></li>
<li><p>Create an <code>Age_group</code> variable:</p></li>
</ol>
<ul>
<li>
<code>"Young"</code> if age <span class="math inline">\(\leq\)</span> 30,</li>
<li>
<code>"Middle-aged"</code> if 31 <span class="math inline">\(\leq\)</span> age <span class="math inline">\(\leq\)</span> 50,</li>
<li>
<code>"Senior"</code> if age <span class="math inline">\(&gt;\)</span> 50.</li>
</ul>
<ol start="22" type="1">
<li>Calculate the mean <code>Ratio</code> for each <code>Age_group</code>.</li>
<li>Use <strong>ggplot2</strong> to create a bar chart showing average <code>Ratio</code> by <code>Age_group</code>.</li>
<li>Create a new variable <code>Risk_factor = Ratio * Age / 10</code>. Summarize how <code>Risk_factor</code> differs by <code>Type</code>.</li>
<li>Visualize <code>Risk_factor</code> in two ways:</li>
</ol>
<ul>
<li>A histogram grouped by <code>Type</code>.</li>
<li>A boxplot grouped by <code>Outcome</code>.</li>
</ul>
<ol start="26" type="1">
<li>Use R and <strong>ggplot2</strong> to recreate Figure <a href="#fig-ch1-tiny-gains" class="quarto-xref"><span>1.1</span></a>, which illustrates the compounding effect of small improvements. First, generate a data frame with three curves:</li>
</ol>
<ul>
<li>
<span class="math inline">\(y = (1.01)^x\)</span> (<span class="math inline">\(1%\)</span> better each day),</li>
<li>
<span class="math inline">\(y = (0.99)^x\)</span> (<span class="math inline">\(1%\)</span> worse each day),</li>
<li>
<span class="math inline">\(y = 1\)</span> (no change).</li>
</ul>
<p>Then use <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line()</a></code> to plot the curves. Customize line colors and add informative labels using <code><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate()</a></code>. <em>Hint:</em> Refer to the example in Section <a href="#sec-ch1-visualization" class="quarto-xref"><span>1.14</span></a>.</p>
<ol start="27" type="1">
<li>Extend the Tiny Gains plot created in Exercise 26 by:</li>
</ol>
<ul>
<li>Changing the x-axis label to <code>"Days of Practice"</code>,</li>
<li>Applying a theme such as <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal()</a></code>,</li>
<li>Adding a title: <code>"The Power of Consistent Practice"</code>,</li>
<li>Saving the plot using <code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave()</a></code> as a PDF or PNG file.</li>
</ul>
<ol start="28" type="1">
<li>For Exercise 26, change the number of days in your tiny gains plot. What do you observe if you compare 30 days to 365?</li>
</ol></section><section id="reflect-and-connect" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="reflect-and-connect">Reflect and Connect</h4>
<p>These reflection questions encourage you to pause, assess your progress, and consider your goals as you continue.</p>
<ol start="29" type="1">
<li><p>Which concepts in this chapter felt most intuitive, and which ones did you find challenging?</p></li>
<li><p>How might these skills help you analyze data in your own research or field of study?</p></li>
<li><p>Looking ahead, what would you like to be able to do with R by the end of this book?</p></li>
</ol>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-grolemund2014" class="csl-entry" role="listitem">
Grolemund, Garrett. 2014. <em>Hands-on Programming with r: Write Your Own Functions and Simulations</em>. " O’Reilly Media, Inc.".
</div>
<div id="ref-lantz2019machine" class="csl-entry" role="listitem">
Lantz, Brett. 2019. <em>Machine Learning with r: Expert Techniques for Predictive Modeling</em>. Packt publishing ltd.
</div>
<div id="ref-wickham2017r" class="csl-entry" role="listitem">
Wickham, Hadley, Garrett Grolemund, et al. 2017. <em>R for Data Science</em>. Vol. 2. O’Reilly Sebastopol, CA.
</div>
</div>
</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/uncovering-data-science\.netlify\.app");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./0-preface.html" class="pagination-link" aria-label="Preface">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./2-Intro-data-science.html" class="pagination-link" aria-label="Foundations of Data Science and Machine Learning">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Foundations of Data Science and Machine Learning</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Data Science Foundations and Machine Learning with R was written by <a href="https://www.uva.nl/profile/a.mohammadi"><span style="color:gray">Reza Mohammadi</span></a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/RezaMoammadi/Book-Data-Science/edit/main/1-Intro-R.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/RezaMoammadi/Book-Data-Science/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>


</body></html>